import{c as o,o as a,a as e,r as _,d as T,D as ce,P as Le,L as de,f as n,t as r,i as w,_ as ve,C as me,g as m,j as p,l as pe,F as B,h as X,p as A,y as F,A as oe,Q as Te,m as D,B as he,N as P,u as ze,b as Ye,e as De,R as Y,I as ie,S as Ve,w as ne,s as Ne,J as Ue,T as Be}from"./main-QOXgzBjM.js";import{u as Ae}from"./listings-YuEa73Vj.js";import{L as Oe}from"./ListingCard-BK1exMoB.js";import{L as j}from"./leaflet-Bln94WRs.js";import{_ as Re}from"./LoadingSpinner-DAODCkB6.js";import{r as Fe}from"./ChatBubbleLeftIcon-BMUxrOV5.js";import{R as Pe}from"./ReportModal-BzA74GHF.js";import{d as Xe}from"./dayjs.min-iy57P9mS.js";import{r as Ze}from"./MapPinIcon-DBe48H6z.js";import{r as Ee}from"./ClockIcon-CaO5R-4J.js";import{r as We}from"./EyeIcon-9WlAgF1x.js";import{r as Ge}from"./StarIcon-DQOnUAEt.js";import{r as Qe}from"./CheckBadgeIcon-SqfY26BP.js";import{r as re}from"./PhoneIcon-BttaLcTb.js";import{r as Je}from"./FlagIcon-CPjlsqDo.js";import"./relativeTime-D5nU98bY.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./SparklesIcon-Cd-n_rvt.js";import"./BoltIcon-CZ-Je01x.js";function ue(y,u){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function He(y,u){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})])}function Ke(y,u){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})])}const qe={class:"location-display"},et={class:"mt-3 space-y-2"},tt={class:"flex items-start gap-2"},st={class:"text-gray-900 font-medium"},lt={key:0,class:"text-sm text-gray-500"},at=["href"],ot={__name:"LocationDisplay",props:{latitude:{type:Number,default:null},longitude:{type:Number,default:null},locality:{type:String,default:""},city:{type:String,default:""},state:{type:String,default:""},postalCode:{type:String,default:""}},setup(y){delete j.Icon.Default.prototype._getIconUrl,j.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const u=y,x=_(null);let h=null,$=null;const C=T(()=>u.latitude&&u.longitude),t=T(()=>{const v=[];return u.locality&&v.push(u.locality),u.city&&v.push(u.city),u.state&&v.push(u.state),v.join(", ")||"Location not specified"}),M=T(()=>C.value?`https://www.google.com/maps/dir/?api=1&destination=${u.latitude},${u.longitude}`:"#");ce(()=>{g()}),Le(()=>{h&&(h.remove(),h=null)});const g=()=>{if(!x.value)return;const v=u.latitude||20.5937,f=u.longitude||78.9629,z=C.value?14:5;h=j.map(x.value,{scrollWheelZoom:!1,dragging:!j.Browser.mobile,tap:!1}).setView([v,f],z),j.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(h),C.value&&(j.circle([u.latitude,u.longitude],{color:"#0d9488",fillColor:"#0d9488",fillOpacity:.2,radius:500}).addTo(h),$=j.marker([u.latitude,u.longitude]).addTo(h))};return de(()=>[u.latitude,u.longitude],([v,f])=>{h&&v&&f&&(h.setView([v,f],14),$&&h.removeLayer($),j.circle([v,f],{color:"#0d9488",fillColor:"#0d9488",fillOpacity:.2,radius:500}).addTo(h),$=j.marker([v,f]).addTo(h))}),(v,f)=>(a(),o("div",qe,[e("div",{ref_key:"mapContainer",ref:x,class:"h-48 rounded-lg border border-gray-200 z-0"},null,512),e("div",et,[e("div",tt,[f[0]||(f[0]=e("svg",{class:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("div",null,[e("p",st,r(t.value),1),y.postalCode?(a(),o("p",lt,"PIN: "+r(y.postalCode),1)):n("",!0)])]),C.value?(a(),o("a",{key:0,href:M.value,target:"_blank",class:"inline-flex items-center gap-2 text-sm text-primary-600 hover:text-primary-700"},[...f[1]||(f[1]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1),w(" Get Directions ",-1)])],8,at)):n("",!0)])]))}},it={class:"fixed inset-0 z-50 flex items-end sm:items-center justify-center"},nt={class:"relative bg-white w-full sm:max-w-md sm:rounded-xl rounded-t-xl animate-slide-up max-h-[90vh] overflow-y-auto"},rt={class:"flex items-center justify-between p-4 border-b"},ut={key:0,class:"p-4 bg-gray-50 border-b"},ct={class:"flex gap-3"},dt=["src","alt"],vt={class:"flex-1 min-w-0"},mt={class:"font-medium text-gray-900 truncate"},pt={class:"text-lg font-bold text-primary-600"},ht={class:"p-4 border-b"},gt={class:"flex flex-wrap gap-2"},ft=["onClick"],_t={class:"p-4"},yt={class:"mt-3"},bt={class:"flex items-center gap-2 text-sm"},kt={key:0,class:"mt-2 flex items-center gap-2"},wt=["max"],xt={class:"flex gap-3 p-4 border-t bg-gray-50 sm:rounded-b-xl safe-area-bottom"},$t=["disabled"],Ct={__name:"ChatModal",props:{listing:{type:Object,required:!0}},emits:["close","sent"],setup(y,{emit:u}){const x=y,h=T(()=>{var b,i,c;return((i=(b=x.listing)==null?void 0:b.user)==null?void 0:i.id)||((c=x.listing)==null?void 0:c.user_id)}),$=u,C=me(),t=_(""),M=_(!1),g=_(null),v=_(!1),f=["Is this still available?","Can you share more photos?","What is the condition?","Is the price negotiable?","Can I see it today?"],z=async()=>{var b,i;if(t.value.trim()){v.value=!0;try{const c={listing_id:x.listing.id,receiver_id:h.value,message:t.value.trim()};M.value&&g.value&&(c.offer_amount=g.value);const d=await he.post("/conversations",c);P.success("Message sent!"),$("sent",d.data.data),$("close");const I=d.data.data.conversation;C.push(`/messages/${I.uuid}`)}catch(c){if(((b=c.response)==null?void 0:b.status)===409){P.info("You already have a conversation about this listing");const d=((i=c.response.data.data)==null?void 0:i.uuid)||c.response.data.uuid;C.push(`/messages/${d}`),$("close")}else P.error("Failed to send message")}finally{v.value=!1}}};return(b,i)=>{var c;return a(),o("div",it,[e("div",{class:"absolute inset-0 bg-black/50",onClick:i[0]||(i[0]=d=>b.$emit("close"))}),e("div",nt,[e("div",rt,[i[6]||(i[6]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Contact Seller",-1)),e("button",{onClick:i[1]||(i[1]=d=>b.$emit("close")),class:"p-1 hover:bg-gray-100 rounded"},[m(p(pe),{class:"w-5 h-5 text-gray-500"})])]),y.listing?(a(),o("div",ut,[e("div",ct,[e("img",{src:y.listing.primary_image_url,alt:y.listing.title,class:"w-16 h-16 rounded-lg object-cover"},null,8,dt),e("div",vt,[e("h4",mt,r(y.listing.title),1),e("p",pt,r(y.listing.formatted_price),1)])])])):n("",!0),e("div",ht,[i[7]||(i[7]=e("p",{class:"text-sm text-gray-500 mb-3"},"Quick messages:",-1)),e("div",gt,[(a(),o(B,null,X(f,d=>e("button",{key:d,onClick:I=>t.value=d,class:A(["px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-full transition",t.value===d?"bg-primary-100 text-primary-700":""])},r(d),11,ft)),64))])]),e("div",_t,[F(e("textarea",{"onUpdate:modelValue":i[2]||(i[2]=d=>t.value=d),rows:"3",class:"input resize-none",placeholder:"Write your message..."},null,512),[[oe,t.value]]),e("div",yt,[e("label",bt,[F(e("input",{type:"checkbox","onUpdate:modelValue":i[3]||(i[3]=d=>M.value=d),class:"rounded text-primary-600"},null,512),[[Te,M.value]]),i[8]||(i[8]=w(" Include an offer ",-1))]),M.value?(a(),o("div",kt,[i[9]||(i[9]=e("span",{class:"text-gray-500"},"â‚¹",-1)),F(e("input",{"onUpdate:modelValue":i[4]||(i[4]=d=>g.value=d),type:"number",class:"input flex-1",placeholder:"Your offer amount",max:(c=y.listing)==null?void 0:c.price},null,8,wt),[[oe,g.value,void 0,{number:!0}]])])):n("",!0)])]),e("div",xt,[e("button",{onClick:i[5]||(i[5]=d=>b.$emit("close")),class:"btn-secondary flex-1"}," Cancel "),e("button",{onClick:z,disabled:!t.value.trim()||v.value,class:"btn-primary flex-1"},[v.value?(a(),D(Re,{key:1,class:"w-5 h-5 mr-2"})):(a(),D(p(Fe),{key:0,class:"w-5 h-5 mr-2"})),w(" "+r(v.value?"Sending...":"Send Message"),1)],8,$t)])])])}}},Mt=ve(Ct,[["__scopeId","data-v-90892009"]]),St={class:"listing-detail-page"},jt={key:0,class:"container-app py-6"},It={class:"image-gallery-section"},Lt=["src","alt"],Tt={key:0,class:"image-counter"},zt={class:"image-badges"},Yt={key:0,class:"badge-featured"},Dt={key:1,class:"badge-urgent"},Vt={key:0,class:"thumbnails-strip"},Nt=["onClick"],Ut=["src","alt"],Bt={class:"container-app py-4"},At={class:"lg:grid lg:grid-cols-3 lg:gap-6"},Ot={class:"lg:col-span-2 space-y-4"},Rt={class:"detail-card"},Ft={class:"flex items-start justify-between gap-4"},Pt={class:"flex-1"},Xt={class:"price"},Zt={class:"title"},Et={class:"action-buttons"},Wt={class:"meta-info"},Gt={class:"detail-card"},Qt={class:"details-grid"},Jt={key:0,class:"detail-item"},Ht={class:"value"},Kt={key:1,class:"detail-item"},qt={class:"value"},es={key:2,class:"detail-item"},ts={class:"value"},ss={key:3,class:"detail-item"},ls={class:"value"},as={key:4,class:"detail-item"},os={class:"value"},is={class:"detail-card"},ns={class:"description"},rs={class:"detail-card"},us={class:"lg:col-span-1 space-y-4 mt-4 lg:mt-0"},cs={class:"seller-card"},ds={class:"seller-header"},vs=["src","alt"],ms={class:"seller-info"},ps={class:"seller-rating"},hs={class:"text-gray-400"},gs={key:0,class:"seller-location"},fs={key:0,class:"verified-badge"},_s={class:"seller-actions"},ys=["href"],bs={key:0,class:"similar-section"},ks={class:"similar-grid"},ws=["src","alt"],xs={class:"lightbox-controls"},$s=["disabled"],Cs={class:"zoom-level"},Ms=["disabled"],Ss={key:2,class:"lightbox-counter"},js={__name:"ListingDetail",setup(y){const u=ze(),x=me(),h=Ye(),$=Ae(),C=_(!0),t=_(null),M=_([]),g=_(0),v=_(!1),f=_(!1),z=_(!1),b=_(!1),i=_(!1),c=_(1),d=_(0),I=_(0);let Z=0,E=0,N=0;const W=T(()=>{var l,s,k,L;return(s=(l=t.value)==null?void 0:l.images)!=null&&s.length?(L=t.value.images[g.value])==null?void 0:L.url:(k=t.value)==null?void 0:k.primary_image_url}),U=T(()=>{var l,s,k;return((l=h.user)==null?void 0:l.id)===((k=(s=t.value)==null?void 0:s.user)==null?void 0:k.id)}),ge=T(()=>{var s;return(((s=t.value)==null?void 0:s.formatted_price)||"").replace(/\s*\(Negotiable\)/gi,"").trim()}),fe=T(()=>{var s,k,L,V;const l=(k=(s=t.value)==null?void 0:s.user)==null?void 0:k.avatar_url;return l&&!l.includes("default")?l:"https://ui-avatars.com/api/?name="+encodeURIComponent(((V=(L=t.value)==null?void 0:L.user)==null?void 0:V.name)||"U")+"&background=7c3aed&color=fff&size=120"}),_e=l=>Xe(l).format("MMM D, YYYY"),ye=l=>({new:"New",like_new:"Like New",good:"Good",fair:"Fair",poor:"Poor"})[l]||(l==null?void 0:l.replace(/_/g," ")),G=()=>{g.value=g.value>0?g.value-1:t.value.images.length-1,O()},Q=()=>{g.value=g.value<t.value.images.length-1?g.value+1:0,O()},be=()=>{i.value=!0,document.body.style.overflow="hidden"},J=()=>{i.value=!1,document.body.style.overflow="",O()},O=()=>{c.value=1,d.value=0,I.value=0},ke=()=>{c.value<3&&(c.value+=.5)},we=()=>{c.value>1&&(c.value-=.5,c.value===1&&(d.value=0,I.value=0))},xe=l=>{l.touches.length===2?N=Math.hypot(l.touches[0].clientX-l.touches[1].clientX,l.touches[0].clientY-l.touches[1].clientY):l.touches.length===1&&(Z=l.touches[0].clientX-d.value,E=l.touches[0].clientY-I.value)},$e=l=>{if(l.touches.length===2){const s=Math.hypot(l.touches[0].clientX-l.touches[1].clientX,l.touches[0].clientY-l.touches[1].clientY),k=s/N;c.value=Math.max(1,Math.min(3,c.value*k)),N=s}else l.touches.length===1&&c.value>1&&(d.value=l.touches[0].clientX-Z,I.value=l.touches[0].clientY-E)},Ce=()=>{N=0},Me=async()=>{if(!h.isAuthenticated){x.push("/login");return}const l=await $.toggleFavorite(t.value.id);v.value=l.is_favorited},Se=()=>{if(!h.isAuthenticated){x.push("/login");return}f.value=!0},je=()=>{navigator.share&&navigator.share({title:t.value.title,text:`Check out: ${t.value.title}`,url:window.location.href})},Ie=async()=>{if(!h.isAuthenticated){x.push("/login");return}try{await he.post(`/listings/${t.value.id}/track-contact`,{type:"phone"})}catch{}b.value=!0},H=async()=>{var l;try{const s=await $.fetchListing(u.params.slug);t.value=s.listing,M.value=s.similar,v.value=s.listing.is_favorited}catch(s){((l=s.response)==null?void 0:l.status)===404&&x.push("/404")}finally{C.value=!1}};return ce(()=>H()),de(()=>u.params.slug,(l,s)=>{l!==s&&(C.value=!0,g.value=0,b.value=!1,H())}),(l,s)=>{var L,V,K,q,ee,te,se,le,ae;const k=De("router-link");return a(),o("div",St,[C.value?(a(),o("div",jt,[...s[4]||(s[4]=[e("div",{class:"skeleton h-80 mb-4 rounded-lg"},null,-1),e("div",{class:"skeleton h-8 w-1/3 mb-2"},null,-1),e("div",{class:"skeleton h-6 w-full mb-4"},null,-1),e("div",{class:"skeleton h-24 w-full"},null,-1)])])):t.value?(a(),o(B,{key:1},[e("div",It,[e("div",{class:"main-image-container",onClick:be},[e("img",{src:W.value,alt:t.value.title,class:"main-image"},null,8,Lt),((L=t.value.images)==null?void 0:L.length)>1?(a(),o("div",Tt,r(g.value+1)+" / "+r(t.value.images.length),1)):n("",!0),e("div",zt,[t.value.is_featured?(a(),o("span",Yt,"Featured")):n("",!0),t.value.is_urgent?(a(),o("span",Dt,"Urgent")):n("",!0)]),((V=t.value.images)==null?void 0:V.length)>1?(a(),o("button",{key:1,onClick:Y(G,["stop"]),class:"nav-arrow nav-prev"},[m(p(ue),{class:"w-6 h-6"})])):n("",!0),((K=t.value.images)==null?void 0:K.length)>1?(a(),o("button",{key:2,onClick:Y(Q,["stop"]),class:"nav-arrow nav-next"},[m(p(ie),{class:"w-6 h-6"})])):n("",!0)]),((q=t.value.images)==null?void 0:q.length)>1?(a(),o("div",Vt,[(a(!0),o(B,null,X(t.value.images,(S,R)=>(a(),o("button",{key:S.id,onClick:Is=>g.value=R,class:A(["thumbnail",{active:g.value===R}])},[e("img",{src:S.thumbnail_url||S.url,alt:`Image ${R+1}`},null,8,Ut)],10,Nt))),128))])):n("",!0)]),e("div",Bt,[e("div",At,[e("div",Ot,[e("div",Rt,[e("div",Ft,[e("div",Pt,[e("p",Xt,r(ge.value),1),e("h1",Zt,r(t.value.title),1)]),e("div",Et,[e("button",{onClick:Me,class:A(["action-btn",{"is-favorite":v.value}])},[m(p(Ve),{class:A(["w-6 h-6",v.value?"fill-current":""])},null,8,["class"])],2),e("button",{onClick:je,class:"action-btn"},[m(p(Ke),{class:"w-6 h-6"})])])]),e("div",Wt,[e("span",null,[m(p(Ze),{class:"w-4 h-4"}),w(" "+r(t.value.location),1)]),e("span",null,[m(p(Ee),{class:"w-4 h-4"}),w(" "+r(_e(t.value.published_at)),1)]),e("span",null,[m(p(We),{class:"w-4 h-4"}),w(" "+r(t.value.views_count)+" views",1)])])]),e("div",Gt,[s[10]||(s[10]=e("h3",{class:"section-title"},"Details",-1)),e("div",Qt,[t.value.condition?(a(),o("div",Jt,[s[5]||(s[5]=e("span",{class:"label"},"Condition",-1)),e("span",Ht,r(ye(t.value.condition)),1)])):n("",!0),t.value.brand?(a(),o("div",Kt,[s[6]||(s[6]=e("span",{class:"label"},"Brand",-1)),e("span",qt,r(t.value.brand),1)])):n("",!0),t.value.model?(a(),o("div",es,[s[7]||(s[7]=e("span",{class:"label"},"Model",-1)),e("span",ts,r(t.value.model),1)])):n("",!0),t.value.year?(a(),o("div",ss,[s[8]||(s[8]=e("span",{class:"label"},"Year",-1)),e("span",ls,r(t.value.year),1)])):n("",!0),t.value.category?(a(),o("div",as,[s[9]||(s[9]=e("span",{class:"label"},"Category",-1)),e("span",os,r(t.value.category.name),1)])):n("",!0)])]),e("div",is,[s[11]||(s[11]=e("h3",{class:"section-title"},"Description",-1)),e("p",ns,r(t.value.description),1)]),e("div",rs,[s[12]||(s[12]=e("h3",{class:"section-title"},"Location",-1)),m(ot,{latitude:t.value.latitude,longitude:t.value.longitude,locality:t.value.locality,city:t.value.city,state:t.value.state,"postal-code":t.value.postal_code},null,8,["latitude","longitude","locality","city","state","postal-code"])])]),e("div",us,[e("div",cs,[e("div",ds,[e("img",{src:fe.value,alt:t.value.user.name,class:"seller-avatar"},null,8,vs),e("div",ms,[m(k,{to:`/user/${t.value.user.id}`,class:"seller-name"},{default:ne(()=>[w(r(t.value.user.name),1)]),_:1},8,["to"]),e("div",ps,[m(p(Ge),{class:"w-4 h-4 text-yellow-400 fill-current"}),e("span",null,r(t.value.user.rating||"0.0"),1),e("span",hs,"("+r(t.value.user.total_reviews||0)+")",1)]),t.value.user.city?(a(),o("p",gs,r(t.value.user.city),1)):n("",!0)])]),t.value.user.is_verified_seller?(a(),o("div",fs,[m(p(Qe),{class:"w-5 h-5"}),s[13]||(s[13]=w(" Verified Seller ",-1))])):n("",!0),e("div",_s,[U.value?n("",!0):(a(),o("button",{key:0,onClick:Se,class:"btn-chat"},[m(p(Ne),{class:"w-5 h-5"}),s[14]||(s[14]=w(" Chat with Seller ",-1))])),t.value.user.phone&&!U.value&&!b.value?(a(),o("button",{key:1,onClick:Ie,class:"btn-phone"},[m(p(re),{class:"w-5 h-5"}),s[15]||(s[15]=w(" Show Phone Number ",-1))])):n("",!0),t.value.user.phone&&!U.value&&b.value?(a(),o("a",{key:2,href:`tel:${t.value.user.phone}`,class:"btn-phone-revealed"},[m(p(re),{class:"w-5 h-5"}),w(" "+r(t.value.user.phone),1)],8,ys)):n("",!0),U.value?(a(),D(k,{key:3,to:`/listing/${t.value.id}/edit`,class:"btn-edit"},{default:ne(()=>[...s[16]||(s[16]=[w(" Edit Listing ",-1)])]),_:1},8,["to"])):n("",!0)])]),s[18]||(s[18]=e("div",{class:"safety-card"},[e("h4",null,"Safety Tips"),e("ul",null,[e("li",null,"Meet in a safe public place"),e("li",null,"Check the item before you pay"),e("li",null,"Pay only after collecting the item"),e("li",null,"Never share financial information")])],-1)),e("button",{onClick:s[0]||(s[0]=S=>z.value=!0),class:"report-btn"},[m(p(Je),{class:"w-4 h-4"}),s[17]||(s[17]=w(" Report this ad ",-1))])])]),(ee=M.value)!=null&&ee.length?(a(),o("div",bs,[s[19]||(s[19]=e("h2",{class:"similar-title"},"Similar Ads",-1)),e("div",ks,[(a(!0),o(B,null,X(M.value,S=>(a(),D(Oe,{key:S.id,listing:S},null,8,["listing"]))),128))])])):n("",!0)])],64)):n("",!0),i.value?(a(),o("div",{key:2,class:"lightbox",onClick:J},[e("button",{onClick:J,class:"lightbox-close"},[m(p(pe),{class:"w-8 h-8"})]),e("div",{class:"lightbox-content",onClick:s[1]||(s[1]=Y(()=>{},["stop"]))},[e("img",{src:W.value,alt:t.value.title,class:"lightbox-image",style:Ue({transform:`scale(${c.value}) translate(${d.value}px, ${I.value}px)`}),onTouchstart:xe,onTouchmove:$e,onTouchend:Ce},null,44,ws)]),e("div",xs,[e("button",{onClick:Y(we,["stop"]),class:"zoom-btn",disabled:c.value<=1},[m(p(He),{class:"w-6 h-6"})],8,$s),e("span",Cs,r(Math.round(c.value*100))+"%",1),e("button",{onClick:Y(ke,["stop"]),class:"zoom-btn",disabled:c.value>=3},[m(p(Be),{class:"w-6 h-6"})],8,Ms)]),((te=t.value.images)==null?void 0:te.length)>1?(a(),o("button",{key:0,onClick:Y(G,["stop"]),class:"lightbox-nav lightbox-prev"},[m(p(ue),{class:"w-8 h-8"})])):n("",!0),((se=t.value.images)==null?void 0:se.length)>1?(a(),o("button",{key:1,onClick:Y(Q,["stop"]),class:"lightbox-nav lightbox-next"},[m(p(ie),{class:"w-8 h-8"})])):n("",!0),((le=t.value.images)==null?void 0:le.length)>1?(a(),o("div",Ss,r(g.value+1)+" / "+r(t.value.images.length),1)):n("",!0)])):n("",!0),f.value?(a(),D(Mt,{key:3,listing:t.value,onClose:s[2]||(s[2]=S=>f.value=!1)},null,8,["listing"])):n("",!0),z.value?(a(),D(Pe,{key:4,type:"listing",id:(ae=t.value)==null?void 0:ae.id,onClose:s[3]||(s[3]=S=>z.value=!1)},null,8,["id"])):n("",!0)])}}},Qs=ve(js,[["__scopeId","data-v-2ee43da9"]]);export{Qs as default};
