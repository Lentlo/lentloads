import{c as r,o as a,a as e,_ as se,b as le,r as v,M as de,e as ue,f,g as b,j as g,l as ae,T,z as A,B as V,t as h,i as C,V as Q,m as L,w as H,C as J,D as ce,x as pe,L as me,d as R,E as ve,F as M,h as U,N as ye,O as K,p as q,n as ge,H as be,q as xe}from"./main-CClDmdhq.js";import{u as fe}from"./listings-Bhxk46ja.js";import{_ as he}from"./LocationPicker-BfP6uVlY.js";import{r as O}from"./PhoneIcon-CzFhioVn.js";import{r as X}from"./UserIcon-lCc-YmlY.js";import{r as ee}from"./EyeIcon-DAIwKsgP.js";import{r as te}from"./EyeSlashIcon-eRUekK91.js";import{r as ke}from"./ArrowLeftIcon-DuIH2xBy.js";import{r as _e}from"./CameraIcon-BcR4G3vh.js";import{r as we}from"./CheckIcon-DrSiP2PE.js";import{r as $e}from"./WrenchIcon-DySYc6P8.js";import{r as Ce}from"./ShoppingBagIcon-Dkj2H7Rk.js";import{a as Ae,b as Pe,r as Ve}from"./TruckIcon-BzIvVdjg.js";import{r as Se}from"./SparklesIcon-DwB5_doa.js";import"./leaflet-9x6Gr4HL.js";function je(N,B){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"})])}const Le={key:0,class:"auth-modal-overlay"},Be={class:"auth-modal-content"},Me={key:0},Ue={class:"text-center mb-6"},Ne={class:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4"},ze={class:"mb-4"},Ee={class:"flex"},Fe=["disabled"],qe={key:0,class:"text-red-500 text-sm mb-4"},De=["disabled"],Ie={key:0,class:"flex items-center justify-center gap-2"},Te={key:1},He={key:1},Re={class:"text-center mb-6"},Oe={class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"},We={class:"text-xl font-bold text-gray-900"},Ye={class:"mb-4"},Ze={class:"flex items-center justify-between text-sm mb-1"},Ge={class:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg text-gray-700"},Qe={class:"mb-4"},Je={class:"relative"},Ke=["type","disabled"],Xe={key:0,class:"text-red-500 text-sm mb-4"},et=["disabled"],tt={key:0,class:"flex items-center justify-center gap-2"},st={key:1},lt={class:"text-center"},at={key:2},ot={class:"text-center mb-6"},rt={class:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4"},nt={class:"mb-4"},it={class:"flex items-center justify-between text-sm mb-1"},dt={class:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg text-gray-700"},ut={class:"mb-4"},ct=["disabled"],pt={class:"mb-4"},mt=["disabled"],vt={class:"mb-4"},yt={class:"relative"},gt=["type","disabled"],bt={key:0,class:"text-red-500 text-sm mb-4"},xt=["disabled"],ft={key:0,class:"flex items-center justify-center gap-2"},ht={key:1},kt={class:"text-xs text-gray-500 text-center"},_t={__name:"AuthPromptModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","authenticated"],setup(N,{emit:B}){const j=N,z=B,E=le(),x=v("phone"),n=v(!1),c=v(""),i=v(!1),y=v(""),k=v(""),_=v(""),l=v(""),w=v("");de(()=>j.isOpen,p=>{p&&(x.value="phone",n.value=!1,c.value="",i.value=!1,y.value="",k.value="",_.value="",l.value="",w.value="")});const D=async()=>{var p,t,m,d;if(y.value.length===10&&!n.value){n.value=!0,c.value="";try{const S=await J.post("/auth/check-phone",{phone:"+91"+y.value});(t=(p=S.data)==null?void 0:p.data)!=null&&t.exists?(k.value=S.data.data.name||"",x.value="login"):x.value="register"}catch(S){console.error("Phone check error:",S),c.value=((d=(m=S.response)==null?void 0:m.data)==null?void 0:d.message)||"Network error. Please check your connection and try again."}finally{n.value=!1}}},I=async()=>{var p,t;if(!n.value){n.value=!0,c.value="";try{await E.login({login:"+91"+y.value,password:w.value}),z("authenticated")}catch(m){console.error("Login error:",m),c.value=((t=(p=m.response)==null?void 0:p.data)==null?void 0:t.message)||"Invalid password. Please try again."}finally{n.value=!1}}},F=async()=>{var p,t;if(!n.value){n.value=!0,c.value="";try{const m=await J.post("/auth/quick-register",{name:_.value,email:l.value,password:w.value,phone:"+91"+y.value});E.setAuth(m.data.data),z("authenticated")}catch(m){console.error("Registration error:",m),c.value=((t=(p=m.response)==null?void 0:p.data)==null?void 0:t.message)||"Registration failed. Please try again."}finally{n.value=!1}}};return(p,t)=>{const m=ue("router-link");return N.isOpen?(a(),r("div",Le,[e("div",{class:"auth-modal-backdrop",onClick:t[0]||(t[0]=d=>p.$emit("close"))}),e("div",Be,[e("button",{onClick:t[1]||(t[1]=d=>p.$emit("close")),class:"absolute top-4 right-4 text-gray-400 hover:text-gray-600"},[b(g(ae),{class:"w-6 h-6"})]),x.value==="phone"?(a(),r("div",Me,[e("div",Ue,[e("div",Ne,[b(g(O),{class:"w-8 h-8 text-primary-600"})]),t[15]||(t[15]=e("h2",{class:"text-xl font-bold text-gray-900"},"Almost Done!",-1)),t[16]||(t[16]=e("p",{class:"text-gray-500 mt-1"},"Enter your phone number to continue",-1))]),e("form",{onSubmit:T(D,["prevent"])},[e("div",ze,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),e("div",Ee,[t[17]||(t[17]=e("span",{class:"inline-flex items-center px-3 bg-gray-100 border border-r-0 border-gray-300 rounded-l-lg text-gray-500"}," +91 ",-1)),A(e("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>y.value=d),type:"tel",required:"",maxlength:"10",pattern:"[0-9]{10}",placeholder:"Enter 10 digit number",class:"input rounded-l-none flex-1",disabled:n.value,onInput:t[3]||(t[3]=d=>c.value="")},null,40,Fe),[[V,y.value]])])]),c.value?(a(),r("p",qe,h(c.value),1)):f("",!0),e("button",{type:"submit",disabled:n.value||y.value.length!==10,class:"btn-primary w-full"},[n.value?(a(),r("span",Ie,[...t[19]||(t[19]=[e("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),C(" Checking... ",-1)])])):(a(),r("span",Te,"Continue"))],8,De)],32)])):x.value==="login"?(a(),r("div",He,[e("div",Re,[e("div",Oe,[b(g(X),{class:"w-8 h-8 text-green-600"})]),e("h2",We,"Welcome Back"+h(k.value?`, ${k.value}`:"")+"!",1),t[20]||(t[20]=e("p",{class:"text-gray-500 mt-1"},"Enter your password to post your ad",-1))]),e("form",{onSubmit:T(I,["prevent"])},[e("div",Ye,[e("div",Ze,[t[21]||(t[21]=e("label",{class:"font-medium text-gray-700"},"Phone",-1)),e("button",{type:"button",onClick:t[4]||(t[4]=d=>x.value="phone"),class:"text-primary-600 hover:underline"}," Change ")]),e("div",Ge,[b(g(O),{class:"w-5 h-5 text-gray-400"}),C(" +91 "+h(y.value),1)])]),e("div",Qe,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),e("div",Je,[A(e("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>w.value=d),type:i.value?"text":"password",required:"",placeholder:"Enter your password",class:"input pr-10",disabled:n.value},null,8,Ke),[[Q,w.value]]),e("button",{type:"button",onClick:t[6]||(t[6]=d=>i.value=!i.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},[i.value?(a(),L(g(te),{key:1,class:"w-5 h-5"})):(a(),L(g(ee),{key:0,class:"w-5 h-5"}))])])]),c.value?(a(),r("p",Xe,h(c.value),1)):f("",!0),e("button",{type:"submit",disabled:n.value||!w.value,class:"btn-primary w-full mb-3"},[n.value?(a(),r("span",tt,[...t[23]||(t[23]=[e("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),C(" Logging in... ",-1)])])):(a(),r("span",st,"Login & Post Ad"))],8,et),e("div",lt,[b(m,{to:"/forgot-password",class:"text-sm text-primary-600 hover:underline",onClick:t[7]||(t[7]=d=>p.$emit("close"))},{default:H(()=>[...t[24]||(t[24]=[C(" Forgot Password? ",-1)])]),_:1})])],32)])):x.value==="register"?(a(),r("div",at,[e("div",ot,[e("div",rt,[b(g(X),{class:"w-8 h-8 text-primary-600"})]),t[25]||(t[25]=e("h2",{class:"text-xl font-bold text-gray-900"},"Create Account",-1)),t[26]||(t[26]=e("p",{class:"text-gray-500 mt-1"},"Quick signup to post your ad",-1))]),e("form",{onSubmit:T(F,["prevent"])},[e("div",nt,[e("div",it,[t[27]||(t[27]=e("label",{class:"font-medium text-gray-700"},"Phone",-1)),e("button",{type:"button",onClick:t[8]||(t[8]=d=>x.value="phone"),class:"text-primary-600 hover:underline"}," Change ")]),e("div",dt,[b(g(O),{class:"w-5 h-5 text-gray-400"}),C(" +91 "+h(y.value),1)])]),e("div",ut,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Your Name",-1)),A(e("input",{"onUpdate:modelValue":t[9]||(t[9]=d=>_.value=d),type:"text",required:"",placeholder:"Enter your name",class:"input",disabled:n.value},null,8,ct),[[V,_.value]])]),e("div",pt,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),A(e("input",{"onUpdate:modelValue":t[10]||(t[10]=d=>l.value=d),type:"email",required:"",placeholder:"Enter your email",class:"input",disabled:n.value},null,8,mt),[[V,l.value]])]),e("div",vt,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Create Password",-1)),e("div",yt,[A(e("input",{"onUpdate:modelValue":t[11]||(t[11]=d=>w.value=d),type:i.value?"text":"password",required:"",minlength:"8",placeholder:"Min 8 characters",class:"input pr-10",disabled:n.value},null,8,gt),[[Q,w.value]]),e("button",{type:"button",onClick:t[12]||(t[12]=d=>i.value=!i.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},[i.value?(a(),L(g(te),{key:1,class:"w-5 h-5"})):(a(),L(g(ee),{key:0,class:"w-5 h-5"}))])])]),c.value?(a(),r("p",bt,h(c.value),1)):f("",!0),e("button",{type:"submit",disabled:n.value||!_.value||!l.value||w.value.length<8,class:"btn-primary w-full mb-3"},[n.value?(a(),r("span",ft,[...t[31]||(t[31]=[e("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),C(" Creating account... ",-1)])])):(a(),r("span",ht,"Create Account & Post Ad"))],8,xt),e("p",kt,[t[34]||(t[34]=C(" By creating an account, you agree to our ",-1)),b(m,{to:"/pages/terms",class:"text-primary-600 hover:underline",onClick:t[13]||(t[13]=d=>p.$emit("close"))},{default:H(()=>[...t[32]||(t[32]=[C("Terms",-1)])]),_:1}),t[35]||(t[35]=C(" and ",-1)),b(m,{to:"/pages/privacy",class:"text-primary-600 hover:underline",onClick:t[14]||(t[14]=d=>p.$emit("close"))},{default:H(()=>[...t[33]||(t[33]=[C("Privacy Policy",-1)])]),_:1})])],32)])):f("",!0)])])):f("",!0)}}},wt=se(_t,[["__scopeId","data-v-ffda3a35"]]),$t={class:"min-h-screen bg-gray-50"},Ct={class:"bg-white border-b sticky top-0 z-40"},At={class:"container-app py-3"},Pt={class:"flex items-center gap-4"},Vt={class:"flex-1"},St={class:"flex items-center gap-2 mb-1"},jt={class:"text-sm font-medium text-gray-900"},Lt={class:"flex gap-1"},Bt={class:"container-app py-4 pb-20 max-w-2xl"},Mt={key:0,class:"space-y-4"},Ut={class:"space-y-3"},Nt=["onClick"],zt={class:"flex items-center gap-3"},Et={class:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center"},Ft={class:"font-medium text-gray-900"},qt={key:0,class:"border-t bg-gray-50"},Dt=["onClick"],It={class:"text-gray-700"},Tt={key:1,class:"space-y-4"},Ht={class:"card p-4 space-y-4"},Rt={class:"text-xs text-gray-500 mt-1 text-right"},Ot={class:"text-xs text-gray-500 mt-1 text-right"},Wt={class:"grid grid-cols-2 gap-3"},Yt={class:"relative"},Zt={class:"flex flex-wrap gap-2"},Gt=["onClick"],Qt={class:"grid grid-cols-2 gap-3"},Jt={key:2,class:"space-y-4"},Kt={class:"card p-4"},Xt={class:"grid grid-cols-3 gap-3"},es=["src"],ts={key:0,class:"absolute top-2 left-2 px-2 py-0.5 bg-primary-600 text-white text-xs rounded"},ss=["onClick"],ls={key:0,class:"aspect-square bg-gray-100 rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-primary-50 transition"},as={key:0,class:"text-center text-sm text-gray-500 mt-4"},os={key:3,class:"space-y-4"},rs={class:"card p-4"},ns={class:"bottom-actions"},is={class:"container-app flex gap-3"},ds=["disabled"],us=["disabled"],cs={key:0,class:"flex items-center justify-center gap-2"},ps={key:1},ms={__name:"CreateListing",setup(N){const B=ce(),j=pe(),z=le(),E=fe(),x=v(!1),n=v(!1),c=v(!1),i=v(1),y=v(null),k=v([]),_=v([]),l=me({category_id:"",title:"",description:"",price:"",price_type:"fixed",condition:"",brand:"",model:"",city:"",state:"",locality:"",postal_code:"",latitude:null,longitude:null}),w=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"good",label:"Good"},{value:"fair",label:"Fair"}],D=R(()=>j.categories),I=u=>({electronics:Ve,mobiles:Pe,property:xe,vehicles:Ae,fashion:Ce,services:$e,entertainment:je})[u]||Se,F=R(()=>i.value===1?!!l.category_id:i.value===2?l.title&&l.description&&l.price!=="":i.value===3?k.value.length>0:!0),p=R(()=>l.category_id&&l.title&&l.description&&l.price!==""&&l.city&&k.value.length>0),t=u=>{y.value=y.value===u?null:u},m=u=>{l.category_id=u,setTimeout(()=>Y(),300)},d=u=>{const s=Array.from(u.target.files),o=10-k.value.length;s.slice(0,o).forEach($=>{if($.type.startsWith("image/")){k.value.push($);const P=new FileReader;P.onload=G=>_.value.push(G.target.result),P.readAsDataURL($)}})},S=u=>{k.value.splice(u,1),_.value.splice(u,1)},oe=u=>{l.city=u.city,l.state=u.state,l.locality=u.locality,l.postal_code=u.postal_code,l.latitude=u.latitude,l.longitude=u.longitude},re=()=>{i.value>1?W():B.back()},W=()=>{i.value>1&&i.value--},Y=()=>{i.value<4&&F.value&&i.value++},ne=async()=>{if(!(n.value||x.value)&&p.value){if(!z.isAuthenticated){c.value=!0;return}await Z()}},Z=async()=>{var u,s;if(!n.value){n.value=!0,x.value=!0;try{const o={...l,images:k.value};await E.createListing(o),K.success("Your ad has been submitted for review!"),await B.push("/my-listings")}catch(o){K.error(((s=(u=o.response)==null?void 0:u.data)==null?void 0:s.message)||"Failed to create listing"),n.value=!1}finally{x.value=!1}}},ie=async()=>{c.value=!1,await new Promise(u=>setTimeout(u,100)),await Z()};return ve(()=>{j.currentLocation&&(l.city=j.currentLocation.city,l.state=j.currentLocation.state)}),(u,s)=>(a(),r("div",$t,[e("div",Ct,[e("div",At,[e("div",Pt,[e("button",{onClick:re,class:"p-2 -ml-2 hover:bg-gray-100 rounded-full"},[b(g(ke),{class:"w-5 h-5 text-gray-600"})]),e("div",Vt,[e("div",St,[e("span",jt,"Step "+h(i.value)+" of 4",1)]),e("div",Lt,[(a(),r(M,null,U(4,o=>e("div",{key:o,class:q(["h-1 flex-1 rounded-full transition-colors",o<=i.value?"bg-primary-600":"bg-gray-200"])},null,2)),64))])])])])]),b(wt,{"is-open":c.value,onClose:s[0]||(s[0]=o=>c.value=!1),onAuthenticated:ie},null,8,["is-open"]),e("div",Bt,[i.value===1?(a(),r("div",Mt,[s[7]||(s[7]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-xl font-bold text-gray-900"},"What are you selling?"),e("p",{class:"text-gray-500 text-sm mt-1"},"Select a category for your ad")],-1)),e("div",Ut,[(a(!0),r(M,null,U(D.value,o=>{var $;return a(),r("div",{key:o.id,class:"card overflow-hidden"},[e("button",{onClick:P=>t(o.id),class:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition"},[e("div",zt,[e("div",Et,[(a(),L(ge(I(o.slug)),{class:"w-5 h-5 text-primary-600"}))]),e("span",Ft,h(o.name),1)]),b(g(be),{class:q(["w-5 h-5 text-gray-400 transition-transform",y.value===o.id?"rotate-180":""])},null,8,["class"])],8,Nt),y.value===o.id&&(($=o.children)!=null&&$.length)?(a(),r("div",qt,[(a(!0),r(M,null,U(o.children,P=>(a(),r("button",{key:P.id,onClick:G=>m(P.id),class:q(["w-full p-3 pl-14 text-left hover:bg-gray-100 transition flex items-center justify-between",l.category_id===P.id?"bg-primary-50":""])},[e("span",It,h(P.name),1),l.category_id===P.id?(a(),L(g(we),{key:0,class:"w-5 h-5 text-primary-600"})):f("",!0)],10,Dt))),128))])):f("",!0)])}),128))])])):i.value===2?(a(),r("div",Tt,[s[17]||(s[17]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-xl font-bold text-gray-900"},"Add details"),e("p",{class:"text-gray-500 text-sm mt-1"},"Provide information about your item")],-1)),e("div",Ht,[e("div",null,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Title *",-1)),A(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>l.title=o),type:"text",maxlength:"100",class:"input",placeholder:"What are you selling?"},null,512),[[V,l.title]]),e("p",Rt,h(l.title.length)+"/100",1)]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description *",-1)),A(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=o=>l.description=o),rows:"4",maxlength:"5000",class:"input",placeholder:"Describe your item in detail. Include key features, condition, and any important information."},null,512),[[V,l.description]]),e("p",Ot,h(l.description.length)+"/5000",1)]),e("div",Wt,[e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Price *",-1)),e("div",Yt,[s[10]||(s[10]=e("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"},"â‚¹",-1)),A(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>l.price=o),type:"number",min:"0",class:"input pl-8",placeholder:"0"},null,512),[[V,l.price]])])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Price Type",-1)),A(e("select",{"onUpdate:modelValue":s[4]||(s[4]=o=>l.price_type=o),class:"input"},[...s[12]||(s[12]=[e("option",{value:"fixed"},"Fixed",-1),e("option",{value:"negotiable"},"Negotiable",-1),e("option",{value:"free"},"Free",-1)])],512),[[ye,l.price_type]])])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Condition",-1)),e("div",Zt,[(a(),r(M,null,U(w,o=>e("button",{key:o.value,onClick:$=>l.condition=o.value,type:"button",class:q(["px-4 py-2 rounded-full border text-sm transition",l.condition===o.value?"border-primary-500 bg-primary-50 text-primary-700":"hover:bg-gray-50"])},h(o.label),11,Gt)),64))])]),e("div",Qt,[e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Brand",-1)),A(e("input",{"onUpdate:modelValue":s[5]||(s[5]=o=>l.brand=o),type:"text",class:"input",placeholder:"e.g., Apple"},null,512),[[V,l.brand]])]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Model",-1)),A(e("input",{"onUpdate:modelValue":s[6]||(s[6]=o=>l.model=o),type:"text",class:"input",placeholder:"e.g., iPhone 15"},null,512),[[V,l.model]])])])])])):i.value===3?(a(),r("div",Jt,[s[19]||(s[19]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-xl font-bold text-gray-900"},"Add photos"),e("p",{class:"text-gray-500 text-sm mt-1"},"Add up to 10 photos. First photo will be the cover.")],-1)),e("div",Kt,[e("div",Xt,[(a(!0),r(M,null,U(_.value,(o,$)=>(a(),r("div",{key:$,class:"relative aspect-square bg-gray-100 rounded-xl overflow-hidden"},[e("img",{src:o,class:"w-full h-full object-cover"},null,8,es),$===0?(a(),r("div",ts," Cover ")):f("",!0),e("button",{type:"button",onClick:P=>S($),class:"absolute top-2 right-2 w-6 h-6 bg-black/50 text-white rounded-full flex items-center justify-center hover:bg-black/70"},[b(g(ae),{class:"w-4 h-4"})],8,ss)]))),128)),_.value.length<10?(a(),r("label",ls,[b(g(_e),{class:"w-8 h-8 text-gray-400 mb-1"}),s[18]||(s[18]=e("span",{class:"text-xs text-gray-500"},"Add Photo",-1)),e("input",{type:"file",accept:"image/*",multiple:"",class:"hidden",onChange:d},null,32)])):f("",!0)]),_.value.length===0?(a(),r("p",as," Add at least 1 photo to continue ")):f("",!0)])])):i.value===4?(a(),r("div",os,[s[20]||(s[20]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-xl font-bold text-gray-900"},"Set your location"),e("p",{class:"text-gray-500 text-sm mt-1"},"This helps buyers find items near them")],-1)),e("div",rs,[b(he,{"initial-city":l.city,"initial-state":l.state,"onUpdate:location":oe},null,8,["initial-city","initial-state"])])])):f("",!0)]),e("div",ns,[e("div",is,[i.value>1?(a(),r("button",{key:0,onClick:W,class:"btn-secondary flex-1"}," Back ")):f("",!0),i.value<4?(a(),r("button",{key:1,onClick:Y,disabled:!F.value,class:"btn-primary flex-1"}," Continue ",8,ds)):(a(),r("button",{key:2,onClick:ne,disabled:!p.value||x.value||n.value,class:"btn-primary flex-1"},[x.value||n.value?(a(),r("span",cs,[...s[21]||(s[21]=[e("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),C(" Posting... ",-1)])])):(a(),r("span",ps,"Post Ad"))],8,us))])])]))}},Ss=se(ms,[["__scopeId","data-v-d70ecd6f"]]);export{Ss as default};
