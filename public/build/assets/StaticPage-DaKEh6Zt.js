import{c as n,o as a,a as s,u as E,r as g,d as T,L,D as B,e as V,E as j,g as u,j as _,w as h,i as x,f as y,I as A,t as m,F as C,h as N,B as P,m as S}from"./main-DSRIuYMi.js";import{d as D}from"./dayjs.min-iy57P9mS.js";import"./_commonjsHelpers-Cpj98o6Y.js";function Y(k,l){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}const $={class:"min-h-screen bg-gray-50 py-8"},q={class:"container-app max-w-4xl"},z={key:0,class:"card p-8"},F={key:1,class:"text-center py-12"},R={key:2},W={class:"flex items-center gap-2 text-sm mb-6"},G={class:"text-gray-900"},I={class:"card p-8"},Z={class:"mb-8"},J={class:"text-3xl font-bold text-gray-900"},K={key:0,class:"text-sm text-gray-500 mt-2"},O=["innerHTML"],Q={key:0,class:"mt-8"},U={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},X={class:"font-medium text-gray-900"},at={__name:"StaticPage",setup(k){const l=E(),v=g(!0),o=g(null),p=g([]),w=e=>{if(!e)return"";const t=document.createElement("div");return t.innerHTML=e,["script","iframe","object","embed","form","input","button"].forEach(c=>{t.querySelectorAll(c).forEach(r=>r.remove())}),t.querySelectorAll("*").forEach(c=>{Array.from(c.attributes).forEach(r=>{(r.name.startsWith("on")||r.name==="href"&&r.value.startsWith("javascript:"))&&c.removeAttribute(r.name)})}),t.innerHTML},b=T(()=>{var e;return w((e=o.value)==null?void 0:e.content)}),M=e=>D(e).format("MMMM D, YYYY"),f=async()=>{v.value=!0;try{const e=await P.get(`/pages/${l.params.slug}`);o.value=e.data.data,e.data.related&&(p.value=e.data.related)}catch{o.value=null}finally{v.value=!1}};return L(()=>l.params.slug,()=>{l.params.slug&&f()}),B(()=>{f()}),(e,t)=>{const i=V("router-link");return a(),n("div",$,[s("div",q,[v.value?(a(),n("div",z,[...t[0]||(t[0]=[j('<div class="skeleton h-8 w-1/3 mb-6"></div><div class="space-y-3"><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-3/4"></div><div class="skeleton h-4 w-full"></div><div class="skeleton h-4 w-5/6"></div></div>',2)])])):o.value?(a(),n("div",R,[s("nav",W,[u(i,{to:"/",class:"text-gray-500 hover:text-primary-600"},{default:h(()=>[...t[4]||(t[4]=[x("Home",-1)])]),_:1}),u(_(A),{class:"w-4 h-4 text-gray-400"}),s("span",G,m(o.value.title),1)]),s("article",I,[s("header",Z,[s("h1",J,m(o.value.title),1),o.value.updated_at?(a(),n("p",K," Last updated: "+m(M(o.value.updated_at)),1)):y("",!0)]),s("div",{class:"prose prose-lg max-w-none",innerHTML:b.value},null,8,O)]),p.value.length?(a(),n("div",Q,[t[5]||(t[5]=s("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Related Pages",-1)),s("div",U,[(a(!0),n(C,null,N(p.value,d=>(a(),S(i,{key:d.slug,to:`/page/${d.slug}`,class:"card p-4 hover:shadow-md transition"},{default:h(()=>[s("p",X,m(d.title),1)]),_:2},1032,["to"]))),128))])])):y("",!0)])):(a(),n("div",F,[u(_(Y),{class:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t[2]||(t[2]=s("h2",{class:"text-xl font-bold text-gray-900 mb-2"},"Page not found",-1)),t[3]||(t[3]=s("p",{class:"text-gray-500 mb-4"},"The page you're looking for doesn't exist.",-1)),u(i,{to:"/",class:"btn-primary"},{default:h(()=>[...t[1]||(t[1]=[x("Go Home",-1)])]),_:1})]))])])}}};export{at as default};
