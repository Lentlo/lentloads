import{u as D,a as N,r as l,c as h,o as q,b as H,d as a,e as r,f as t,g as i,h as M,w as P,i as x,j as I,k as K,t as d,v as R,l as T,F as c,m as u,n as y,p as v,_ as E,q as Q,s as U}from"./main-CJNCjlVx.js";import{_ as C}from"./ListingCard-DgjkVRXq.js";import{r as $}from"./ShoppingBagIcon-CfsxCTAB.js";import{r as W,a as Y,b as z,c as G,d as J}from"./TruckIcon-BTt-PtJM.js";import"./listings-3ptuYXOO.js";import"./dayjs.min-Bof1u0Bp.js";import"./relativeTime-Ckc_g6N8.js";import"./HeartIcon-DbGhONso.js";const O={class:"min-h-screen"},X={class:"bg-gradient-to-r from-primary-600 to-primary-700 text-white py-12 md:py-20"},Z={class:"container-app text-center"},tt={class:"max-w-2xl mx-auto bg-white rounded-lg p-2 flex items-center"},et={class:"py-12 bg-white"},st={class:"container-app"},ot={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"},rt={class:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:bg-primary-200 transition"},at={class:"font-medium text-gray-900"},nt={class:"text-sm text-gray-500"},lt={class:"py-12 bg-gray-50"},it={class:"container-app"},dt={class:"flex items-center justify-between mb-6"},ct={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},ut={key:1,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},mt={class:"py-12 bg-white"},pt={class:"container-app"},gt={class:"flex items-center justify-between mb-6"},xt={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},yt={class:"py-12 bg-gray-50"},ht={class:"container-app"},vt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"},ft=["onClick"],_t={class:"font-medium text-gray-900"},bt={class:"text-sm text-gray-500"},wt={class:"py-16 bg-primary-600 text-white"},kt={class:"container-app text-center"},Nt={__name:"Home",setup(Ct){const f=D(),n=N(),_=l(!0),m=l(""),p=l(!1),b=l([]),w=l([]),L=h(()=>n.categories),S=h(()=>n.popularCities),A=h(()=>{var o;return(o=n.currentLocation)==null?void 0:o.city}),k=()=>{m.value.trim()&&f.push({path:"/search",query:{q:m.value}})},V=o=>{n.setLocation(o),f.push({path:"/search",query:{city:o.name}})},B=o=>{p.value=!1,n.setLocation(o)},F=o=>({mobiles:J,vehicles:G,property:z,jobs:Y,electronics:W,fashion:$})[o]||$,j=async()=>{try{const o=await Q.get("/home");b.value=o.data.data.featured_listings,w.value=o.data.data.recent_listings}catch(o){console.error("Failed to fetch home data:",o)}finally{_.value=!1}};return q(()=>{j()}),(o,e)=>{const g=H("router-link");return r(),a("div",O,[t("section",X,[t("div",Z,[e[3]||(e[3]=t("h1",{class:"text-3xl md:text-5xl font-bold mb-4"}," Buy & Sell Anything Near You ",-1)),e[4]||(e[4]=t("p",{class:"text-lg md:text-xl text-primary-100 mb-8 max-w-2xl mx-auto"}," Discover great deals on new and used items from sellers in your area ",-1)),t("div",tt,[t("button",{onClick:e[0]||(e[0]=s=>p.value=!0),class:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 border-r border-gray-200"},[x(I(K),{class:"w-5 h-5 mr-2"}),t("span",null,d(A.value||"All India"),1)]),P(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>m.value=s),type:"text",placeholder:"What are you looking for?",class:"flex-1 px-4 py-2 focus:outline-none text-gray-900",onKeyup:T(k,["enter"])},null,544),[[R,m.value]]),t("button",{onClick:k,class:"btn-primary"}," Search ")])])]),t("section",et,[t("div",st,[e[5]||(e[5]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Browse Categories",-1)),t("div",ot,[(r(!0),a(c,null,u(L.value,s=>(r(),i(g,{key:s.id,to:`/category/${s.slug}`,class:"card-hover p-4 text-center group"},{default:y(()=>[t("div",rt,[(r(),i(U(F(s.slug)),{class:"w-6 h-6 text-primary-600"}))]),t("h3",at,d(s.name),1),t("p",nt,d(s.active_listings_count||0)+" ads",1)]),_:2},1032,["to"]))),128))])])]),t("section",lt,[t("div",it,[t("div",dt,[e[7]||(e[7]=t("h2",{class:"text-2xl font-bold text-gray-900"},"Featured Ads",-1)),x(g,{to:"/search?featured=1",class:"text-primary-600 font-medium hover:underline"},{default:y(()=>[...e[6]||(e[6]=[v(" View All ",-1)])]),_:1})]),_.value?(r(),a("div",ct,[(r(),a(c,null,u(8,s=>t("div",{key:s,class:"card p-4"},[...e[8]||(e[8]=[t("div",{class:"skeleton h-40 mb-3"},null,-1),t("div",{class:"skeleton h-4 w-20 mb-2"},null,-1),t("div",{class:"skeleton h-4 w-full mb-2"},null,-1),t("div",{class:"skeleton h-3 w-24"},null,-1)])])),64))])):(r(),a("div",ut,[(r(!0),a(c,null,u(b.value,s=>(r(),i(C,{key:s.id,listing:s},null,8,["listing"]))),128))]))])]),t("section",mt,[t("div",pt,[t("div",gt,[e[10]||(e[10]=t("h2",{class:"text-2xl font-bold text-gray-900"},"Fresh Recommendations",-1)),x(g,{to:"/search",class:"text-primary-600 font-medium hover:underline"},{default:y(()=>[...e[9]||(e[9]=[v(" View All ",-1)])]),_:1})]),t("div",xt,[(r(!0),a(c,null,u(w.value,s=>(r(),i(C,{key:s.id,listing:s},null,8,["listing"]))),128))])])]),t("section",yt,[t("div",ht,[e[11]||(e[11]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Popular Cities",-1)),t("div",vt,[(r(!0),a(c,null,u(S.value,s=>(r(),a("button",{key:s.id,onClick:$t=>V(s),class:"card-hover p-4 text-center"},[t("h3",_t,d(s.name),1),t("p",bt,d(s.listings_count)+" ads",1)],8,ft))),128))])])]),t("section",wt,[t("div",kt,[e[13]||(e[13]=t("h2",{class:"text-3xl font-bold mb-4"},"Have something to sell?",-1)),e[14]||(e[14]=t("p",{class:"text-lg text-primary-100 mb-8 max-w-xl mx-auto"}," Post your ad for free and reach thousands of potential buyers in your area ",-1)),x(g,{to:"/sell",class:"btn bg-white text-primary-600 hover:bg-gray-100 btn-lg"},{default:y(()=>[...e[12]||(e[12]=[v(" Post Free Ad ",-1)])]),_:1})])]),p.value?(r(),i(E,{key:0,onClose:e[2]||(e[2]=s=>p.value=!1),onSelect:B})):M("",!0)])}}};export{Nt as default};
