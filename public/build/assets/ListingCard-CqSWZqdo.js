import{J as b,r as v,b as w,g as _,e as r,n as k,f as e,d as a,h as i,N as C,i as c,j as g,G as F,t as s,p as N,k as j}from"./main-CrvqE6re.js";import{u as B}from"./listings-4ETEfr2I.js";import{d as u}from"./dayjs.min-Bof1u0Bp.js";import{r as E}from"./relativeTime-Ckc_g6N8.js";import{r as S}from"./HeartIcon-gvSuGTeP.js";const A={class:"relative aspect-[4/3] bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden"},V=["src","alt"],z={key:0,class:"absolute top-3 left-3 px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-xs font-bold rounded-full shadow-lg"},D={key:1,class:"absolute top-3 right-3 px-3 py-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs font-bold rounded-full shadow-lg animate-pulse"},I={class:"p-4"},L={class:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-500 bg-clip-text text-transparent"},T={class:"text-gray-800 font-semibold line-clamp-2 mt-2 group-hover:text-primary-600 transition-colors"},$={class:"flex items-center justify-between mt-3 text-sm text-gray-500"},q={class:"flex items-center bg-gray-50 px-2 py-1 rounded-full"},G={class:"text-xs"},K={__name:"ListingCard",props:{listing:{type:Object,required:!0},showFavorite:{type:Boolean,default:!0}},setup(t){u.extend(E);const l=t,m=b(),h=B(),n=v(l.listing.is_favorited||!1),f=async()=>{if(!m.isAuthenticated)return;const o=await h.toggleFavorite(l.listing.id);n.value=o.is_favorited},p=o=>u(o).fromNow(),x=o=>{o.target.src="https://placehold.co/400x300/E5E7EB/9CA3AF?text=No+Image"};return(o,d)=>{const y=w("router-link");return r(),_(y,{to:`/listing/${t.listing.slug}`,class:"group block bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border border-gray-100"},{default:k(()=>[e("div",A,[e("img",{src:t.listing.primary_image_url,alt:t.listing.title,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",onError:x},null,40,V),d[0]||(d[0]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),t.listing.is_featured?(r(),a("div",z," ‚≠ê Featured ")):i("",!0),t.listing.is_urgent?(r(),a("div",D," üî• Urgent ")):i("",!0),t.showFavorite?(r(),a("button",{key:2,onClick:C(f,["prevent"]),class:"absolute bottom-3 right-3 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full shadow-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 hover:scale-110"},[c(g(S),{class:F(["w-5 h-5",n.value?"text-red-500 fill-current":"text-gray-600"])},null,8,["class"])])):i("",!0)]),e("div",I,[e("p",L,s(t.listing.formatted_price),1),e("h3",T,s(t.listing.title),1),e("div",$,[e("span",q,[c(g(j),{class:"w-4 h-4 mr-1 text-primary-500"}),N(" "+s(t.listing.location),1)]),e("span",G,s(p(t.listing.published_at||t.listing.created_at)),1)])])]),_:1},8,["to"])}}};export{K as _};
