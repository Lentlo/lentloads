import{c as n,o as i,a as t,r as v,m as j,n as A,t as r,d as s,e as l,y as m,h as _,g as h,F as f,j as w,T as C,k as V,I as M}from"./main-Z-N5-jz1.js";import{d as R}from"./dayjs.min-Bof1u0Bp.js";import{r as N}from"./TagIcon-W0fUzrup.js";import{r as L}from"./ClockIcon-xiREqPkz.js";import{r as B}from"./FlagIcon-BKbTRkz2.js";function $(x,a){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"})])}function Z(x,a){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})])}function D(x,a){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}function T(x,a){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}const F={class:"p-6"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},S={class:"card p-6"},U={class:"flex items-center justify-between"},q={class:"text-2xl font-bold text-gray-900"},z={class:"text-sm text-green-600"},E={class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},I={class:"card p-6"},O={class:"flex items-center justify-between"},P={class:"text-2xl font-bold text-gray-900"},Q={class:"text-sm text-green-600"},G={class:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center"},J={class:"card p-6"},K={class:"flex items-center justify-between"},W={class:"text-2xl font-bold text-gray-900"},X={class:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center"},Y={class:"card p-6"},tt={class:"flex items-center justify-between"},et={class:"text-2xl font-bold text-gray-900"},st={class:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center"},ot={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},rt={class:"card"},at={class:"p-4 border-b flex items-center justify-between"},nt={class:"divide-y"},it=["src","alt"],dt={class:"flex-1 min-w-0"},lt={class:"font-medium text-gray-900 truncate"},ct={class:"text-sm text-gray-500"},mt={key:0,class:"p-8 text-center text-gray-500"},ut={class:"card"},xt={class:"p-4 border-b flex items-center justify-between"},pt={class:"divide-y"},gt={class:"flex items-center justify-between mb-2"},vt={class:"badge bg-red-100 text-red-700"},_t={class:"text-sm text-gray-500"},ht={class:"text-sm text-gray-600 line-clamp-2"},ft={class:"text-xs text-gray-400 mt-1"},wt={key:0,class:"p-8 text-center text-gray-500"},yt={class:"mt-8"},bt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Mt={__name:"Dashboard",setup(x){const a=v({}),p=v([]),g=v([]),y=d=>R(d).fromNow(),b=d=>({active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800"})[d]||"bg-gray-100 text-gray-800",k=async()=>{try{const d=await V.get("/admin/dashboard");a.value=d.data.stats||{},p.value=d.data.recentListings||[],g.value=d.data.recentReports||[]}catch{console.error("Failed to fetch dashboard data")}};return j(()=>{k()}),(d,e)=>{const c=A("router-link");return i(),n("div",F,[e[15]||(e[15]=t("h1",{class:"text-2xl font-bold text-gray-900 mb-6"},"Dashboard",-1)),t("div",H,[t("div",S,[t("div",U,[t("div",null,[e[0]||(e[0]=t("p",{class:"text-sm text-gray-500"},"Total Users",-1)),t("p",q,r(a.value.users||0),1),t("p",z,"+"+r(a.value.newUsersToday||0)+" today",1)]),t("div",E,[s(l(T),{class:"w-6 h-6 text-blue-600"})])])]),t("div",I,[t("div",O,[t("div",null,[e[1]||(e[1]=t("p",{class:"text-sm text-gray-500"},"Active Listings",-1)),t("p",P,r(a.value.listings||0),1),t("p",Q,"+"+r(a.value.newListingsToday||0)+" today",1)]),t("div",G,[s(l(N),{class:"w-6 h-6 text-green-600"})])])]),t("div",J,[t("div",K,[t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm text-gray-500"},"Pending Approval",-1)),t("p",W,r(a.value.pendingListings||0),1),e[3]||(e[3]=t("p",{class:"text-sm text-yellow-600"},"Needs attention",-1))]),t("div",X,[s(l(L),{class:"w-6 h-6 text-yellow-600"})])])]),t("div",Y,[t("div",tt,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-gray-500"},"Open Reports",-1)),t("p",et,r(a.value.openReports||0),1),e[5]||(e[5]=t("p",{class:"text-sm text-red-600"},"Requires review",-1))]),t("div",st,[s(l(B),{class:"w-6 h-6 text-red-600"})])])])]),t("div",ot,[t("div",rt,[t("div",at,[e[7]||(e[7]=t("h2",{class:"font-semibold text-gray-900"},"Recent Listings",-1)),s(c,{to:"/admin/listings",class:"text-sm text-primary-600 hover:underline"},{default:m(()=>[...e[6]||(e[6]=[_(" View all ",-1)])]),_:1})]),t("div",nt,[(i(!0),n(f,null,w(p.value,o=>{var u;return i(),n("div",{key:o.id,class:"p-4 flex items-center gap-4"},[t("img",{src:o.primary_image_url,alt:o.title,class:"w-12 h-12 rounded object-cover"},null,8,it),t("div",dt,[t("p",lt,r(o.title),1),t("p",ct,"by "+r((u=o.user)==null?void 0:u.name),1)]),t("span",{class:M(["badge",b(o.status)])},r(o.status),3)])}),128)),p.value.length?h("",!0):(i(),n("div",mt," No recent listings "))])]),t("div",ut,[t("div",xt,[e[9]||(e[9]=t("h2",{class:"font-semibold text-gray-900"},"Recent Reports",-1)),s(c,{to:"/admin/reports",class:"text-sm text-primary-600 hover:underline"},{default:m(()=>[...e[8]||(e[8]=[_(" View all ",-1)])]),_:1})]),t("div",pt,[(i(!0),n(f,null,w(g.value,o=>{var u;return i(),n("div",{key:o.id,class:"p-4"},[t("div",gt,[t("span",vt,r(o.reason),1),t("span",_t,r(y(o.created_at)),1)]),t("p",ht,r(o.description||"No description provided"),1),t("p",ft," Reported by "+r((u=o.reporter)==null?void 0:u.name),1)])}),128)),g.value.length?h("",!0):(i(),n("div",wt," No recent reports "))])])]),t("div",yt,[e[14]||(e[14]=t("h2",{class:"font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),t("div",bt,[s(c,{to:"/admin/listings?status=pending",class:"card p-4 text-center hover:shadow-md transition"},{default:m(()=>[s(l($),{class:"w-8 h-8 text-primary-600 mx-auto mb-2"}),e[10]||(e[10]=t("p",{class:"font-medium"},"Review Listings",-1))]),_:1}),s(c,{to:"/admin/users",class:"card p-4 text-center hover:shadow-md transition"},{default:m(()=>[s(l(D),{class:"w-8 h-8 text-primary-600 mx-auto mb-2"}),e[11]||(e[11]=t("p",{class:"font-medium"},"Manage Users",-1))]),_:1}),s(c,{to:"/admin/categories",class:"card p-4 text-center hover:shadow-md transition"},{default:m(()=>[s(l(Z),{class:"w-8 h-8 text-primary-600 mx-auto mb-2"}),e[12]||(e[12]=t("p",{class:"font-medium"},"Categories",-1))]),_:1}),s(c,{to:"/admin/settings",class:"card p-4 text-center hover:shadow-md transition"},{default:m(()=>[s(l(C),{class:"w-8 h-8 text-primary-600 mx-auto mb-2"}),e[13]||(e[13]=t("p",{class:"font-medium"},"Settings",-1))]),_:1})])])])}}};export{Mt as default};
