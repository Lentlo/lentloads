var be=Object.defineProperty,xe=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var te=(g,m,p)=>m in g?be(g,m,{enumerable:!0,configurable:!0,writable:!0,value:p}):g[m]=p,se=(g,m)=>{for(var p in m||(m={}))he.call(m,p)&&te(g,p,m[p]);if(ee)for(var p of ee(m))ke.call(m,p)&&te(g,p,m[p]);return g},le=(g,m)=>xe(g,fe(m));var U=(g,m,p)=>new Promise((z,M)=>{var b=n=>{try{c(p.next(n))}catch(v){M(v)}},i=n=>{try{c(p.throw(n))}catch(v){M(v)}},c=n=>n.done?z(n.value):Promise.resolve(n.value).then(b,i);c((p=p.apply(g,m)).next())});import{k as r,l as a,p as e,f,s as we,v as _e,x as w,a as k,A as h,L as W,D as V,E as B,B as _,C as A,V as ae,z as N,y as O,u as $e,r as Ce,b as J,o as Pe,F,I,Q as Ae,H as q,K as Ve}from"./vue-vendor-Clry8SR-.js";import{_ as de,d as ue,f as ce,b as oe,u as je,g as Se}from"./main-capacitor-rPhIOL4v.js";import{u as Be}from"./listings-BoIexBmh.js";import{toast as H}from"./ui-vendor-B7DvqItC.js";import{_ as Me}from"./LocationPicker-O5R0_y-P.js";import{r as Q}from"./PhoneIcon-BqlohvOv.js";import{r as re}from"./UserIcon-Dxk9AEih.js";import{r as ne}from"./EyeIcon-C--lcS42.js";import{r as ie}from"./EyeSlashIcon-s2_WeKnM.js";import{r as Le}from"./ArrowLeftIcon-C2xikV9c.js";import{r as Ue}from"./CameraIcon-BkELbqiK.js";import{r as ze}from"./CheckIcon-jEiSi5tZ.js";import{r as Ne}from"./MusicalNoteIcon-Dd8piNzs.js";import{r as Ee}from"./WrenchIcon-BSgC1yyT.js";import{r as Fe}from"./ShoppingBagIcon-BBIrlnAE.js";import{a as Ie,r as De,b as Te}from"./TruckIcon-iz7wJR1j.js";import{r as qe}from"./SparklesIcon-BKZY3LMx.js";import"./leaflet-DApKsNmz.js";function He(g,m){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}const Ge={key:0,class:"auth-modal-overlay"},Re={class:"auth-modal-content"},We={key:0},Oe={class:"text-center mb-6"},Je={class:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4"},Qe={class:"mb-4"},Ye={class:"flex"},Ke=["disabled"],Xe={key:0,class:"text-red-500 text-sm mb-4"},Ze=["disabled"],et={key:0,class:"flex items-center justify-center gap-2"},tt={key:1},st={key:1},lt={class:"text-center mb-6"},at={class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"},ot={class:"text-xl font-bold text-gray-900"},rt={class:"mb-4"},nt={class:"flex items-center justify-between text-sm mb-1"},it={class:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg text-gray-700"},dt={class:"mb-4"},ut={class:"relative"},ct=["type","disabled"],pt={key:0,class:"text-red-500 text-sm mb-4"},mt=["disabled"],vt={key:0,class:"flex items-center justify-center gap-2"},yt={key:1},gt={class:"text-center"},bt={key:2},xt={class:"text-center mb-6"},ft={class:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4"},ht={class:"mb-4"},kt={class:"flex items-center justify-between text-sm mb-1"},wt={class:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg text-gray-700"},_t={class:"mb-4"},$t=["disabled"],Ct={class:"mb-4"},Pt=["disabled"],At={class:"mb-4"},Vt={class:"relative"},jt=["type","disabled"],St={key:0,class:"text-red-500 text-sm mb-4"},Bt=["disabled"],Mt={key:0,class:"flex items-center justify-center gap-2"},Lt={key:1},Ut={class:"text-xs text-gray-500 text-center"},zt={__name:"AuthPromptModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","authenticated"],setup(g,{emit:m}){const p=g,z=m,M=ue(),b=f("phone"),i=f(!1),c=f(""),n=f(!1),v=f(""),$=f(""),C=f(""),l=f(""),P=f("");we(()=>p.isOpen,y=>{y&&(b.value="phone",i.value=!1,c.value="",n.value=!1,v.value="",$.value="",C.value="",l.value="",P.value="")});const G=()=>U(this,null,function*(){var y,t,x,d;if(v.value.length===10&&!i.value){i.value=!0,c.value="";try{const L=yield oe.post("/auth/check-phone",{phone:"+91"+v.value});(t=(y=L.data)==null?void 0:y.data)!=null&&t.exists?($.value=L.data.data.name||"",b.value="login"):b.value="register"}catch(L){console.error("Phone check error:",L),c.value=((d=(x=L.response)==null?void 0:x.data)==null?void 0:d.message)||"Network error. Please check your connection and try again."}finally{i.value=!1}}}),R=()=>U(this,null,function*(){var y,t;if(!i.value){i.value=!0,c.value="";try{yield M.login({login:"+91"+v.value,password:P.value}),z("authenticated")}catch(x){console.error("Login error:",x),c.value=((t=(y=x.response)==null?void 0:y.data)==null?void 0:t.message)||"Invalid password. Please try again."}finally{i.value=!1}}}),D=()=>U(this,null,function*(){var y,t;if(!i.value){i.value=!0,c.value="";try{const x=yield oe.post("/auth/quick-register",{name:C.value,email:l.value,password:P.value,phone:"+91"+v.value});M.setAuth(x.data.data),z("authenticated")}catch(x){console.error("Registration error:",x),c.value=((t=(y=x.response)==null?void 0:y.data)==null?void 0:t.message)||"Registration failed. Please try again."}finally{i.value=!1}}});return(y,t)=>{const x=_e("router-link");return g.isOpen?(a(),r("div",Ge,[e("div",{class:"auth-modal-backdrop",onClick:t[0]||(t[0]=d=>y.$emit("close"))}),e("div",Re,[e("button",{onClick:t[1]||(t[1]=d=>y.$emit("close")),class:"absolute top-4 right-4 text-gray-400 hover:text-gray-600"},[k(h(ce),{class:"w-6 h-6"})]),b.value==="phone"?(a(),r("div",We,[e("div",Oe,[e("div",Je,[k(h(Q),{class:"w-8 h-8 text-primary-600"})]),t[15]||(t[15]=e("h2",{class:"text-xl font-bold text-gray-900"},"Almost Done!",-1)),t[16]||(t[16]=e("p",{class:"text-gray-500 mt-1"},"Enter your phone number to continue",-1))]),e("form",{onSubmit:W(G,["prevent"])},[e("div",Qe,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),e("div",Ye,[t[17]||(t[17]=e("span",{class:"inline-flex items-center px-3 bg-gray-100 border border-r-0 border-gray-300 rounded-l-lg text-gray-500"}," +91 ",-1)),V(e("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>v.value=d),type:"tel",required:"",maxlength:"10",pattern:"[0-9]{10}",placeholder:"Enter 10 digit number",class:"input rounded-l-none flex-1",disabled:i.value,onInput:t[3]||(t[3]=d=>c.value="")},null,40,Ke),[[B,v.value]])])]),c.value?(a(),r("p",Xe,_(c.value),1)):w("",!0),e("button",{type:"submit",disabled:i.value||v.value.length!==10,class:"btn-primary w-full"},[i.value?(a(),r("span",et,[...t[19]||(t[19]=[e("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),A(" Checking... ",-1)])])):(a(),r("span",tt,"Continue"))],8,Ze)],32)])):b.value==="login"?(a(),r("div",st,[e("div",lt,[e("div",at,[k(h(re),{class:"w-8 h-8 text-green-600"})]),e("h2",ot,"Welcome Back"+_($.value?`, ${$.value}`:"")+"!",1),t[20]||(t[20]=e("p",{class:"text-gray-500 mt-1"},"Enter your password to post your ad",-1))]),e("form",{onSubmit:W(R,["prevent"])},[e("div",rt,[e("div",nt,[t[21]||(t[21]=e("label",{class:"font-medium text-gray-700"},"Phone",-1)),e("button",{type:"button",onClick:t[4]||(t[4]=d=>b.value="phone"),class:"text-primary-600 hover:underline"}," Change ")]),e("div",it,[k(h(Q),{class:"w-5 h-5 text-gray-400"}),A(" +91 "+_(v.value),1)])]),e("div",dt,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),e("div",ut,[V(e("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>P.value=d),type:n.value?"text":"password",required:"",placeholder:"Enter your password",class:"input pr-10",disabled:i.value},null,8,ct),[[ae,P.value]]),e("button",{type:"button",onClick:t[6]||(t[6]=d=>n.value=!n.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n.value?(a(),N(h(ie),{key:1,class:"w-5 h-5"})):(a(),N(h(ne),{key:0,class:"w-5 h-5"}))])])]),c.value?(a(),r("p",pt,_(c.value),1)):w("",!0),e("button",{type:"submit",disabled:i.value||!P.value,class:"btn-primary w-full mb-3"},[i.value?(a(),r("span",vt,[...t[23]||(t[23]=[e("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),A(" Logging in... ",-1)])])):(a(),r("span",yt,"Login & Post Ad"))],8,mt),e("div",gt,[k(x,{to:"/forgot-password",class:"text-sm text-primary-600 hover:underline",onClick:t[7]||(t[7]=d=>y.$emit("close"))},{default:O(()=>[...t[24]||(t[24]=[A(" Forgot Password? ",-1)])]),_:1})])],32)])):b.value==="register"?(a(),r("div",bt,[e("div",xt,[e("div",ft,[k(h(re),{class:"w-8 h-8 text-primary-600"})]),t[25]||(t[25]=e("h2",{class:"text-xl font-bold text-gray-900"},"Create Account",-1)),t[26]||(t[26]=e("p",{class:"text-gray-500 mt-1"},"Quick signup to post your ad",-1))]),e("form",{onSubmit:W(D,["prevent"])},[e("div",ht,[e("div",kt,[t[27]||(t[27]=e("label",{class:"font-medium text-gray-700"},"Phone",-1)),e("button",{type:"button",onClick:t[8]||(t[8]=d=>b.value="phone"),class:"text-primary-600 hover:underline"}," Change ")]),e("div",wt,[k(h(Q),{class:"w-5 h-5 text-gray-400"}),A(" +91 "+_(v.value),1)])]),e("div",_t,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Your Name",-1)),V(e("input",{"onUpdate:modelValue":t[9]||(t[9]=d=>C.value=d),type:"text",required:"",placeholder:"Enter your name",class:"input",disabled:i.value},null,8,$t),[[B,C.value]])]),e("div",Ct,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),V(e("input",{"onUpdate:modelValue":t[10]||(t[10]=d=>l.value=d),type:"email",required:"",placeholder:"Enter your email",class:"input",disabled:i.value},null,8,Pt),[[B,l.value]])]),e("div",At,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Create Password",-1)),e("div",Vt,[V(e("input",{"onUpdate:modelValue":t[11]||(t[11]=d=>P.value=d),type:n.value?"text":"password",required:"",minlength:"8",placeholder:"Min 8 characters",class:"input pr-10",disabled:i.value},null,8,jt),[[ae,P.value]]),e("button",{type:"button",onClick:t[12]||(t[12]=d=>n.value=!n.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},[n.value?(a(),N(h(ie),{key:1,class:"w-5 h-5"})):(a(),N(h(ne),{key:0,class:"w-5 h-5"}))])])]),c.value?(a(),r("p",St,_(c.value),1)):w("",!0),e("button",{type:"submit",disabled:i.value||!C.value||!l.value||P.value.length<8,class:"btn-primary w-full mb-3"},[i.value?(a(),r("span",Mt,[...t[31]||(t[31]=[e("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),A(" Creating account... ",-1)])])):(a(),r("span",Lt,"Create Account & Post Ad"))],8,Bt),e("p",Ut,[t[34]||(t[34]=A(" By creating an account, you agree to our ",-1)),k(x,{to:"/pages/terms",class:"text-primary-600 hover:underline",onClick:t[13]||(t[13]=d=>y.$emit("close"))},{default:O(()=>[...t[32]||(t[32]=[A("Terms",-1)])]),_:1}),t[35]||(t[35]=A(" and ",-1)),k(x,{to:"/pages/privacy",class:"text-primary-600 hover:underline",onClick:t[14]||(t[14]=d=>y.$emit("close"))},{default:O(()=>[...t[33]||(t[33]=[A("Privacy Policy",-1)])]),_:1})])],32)])):w("",!0)])])):w("",!0)}}},Nt=de(zt,[["__scopeId","data-v-ffda3a35"]]),Et={class:"create-listing-page min-h-screen bg-gray-50"},Ft={class:"bg-white border-b sticky top-0 z-40"},It={class:"container-app py-3"},Dt={class:"flex items-center gap-4"},Tt={class:"flex-1"},qt={class:"flex items-center gap-2 mb-1"},Ht={class:"text-sm font-medium text-gray-900"},Gt={class:"flex gap-1"},Rt={class:"container-app py-4 pb-32 max-w-2xl"},Wt={key:0,class:"space-y-4"},Ot={class:"space-y-3"},Jt=["onClick"],Qt={class:"flex items-center gap-3"},Yt={class:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center"},Kt={class:"font-medium text-gray-900"},Xt={key:0,class:"border-t bg-gray-50"},Zt=["onClick"],es={class:"text-gray-700"},ts={key:1,class:"space-y-4"},ss={class:"card p-4 space-y-4"},ls={class:"text-xs text-gray-500 mt-1 text-right"},as={class:"text-xs text-gray-500 mt-1 text-right"},os={class:"grid grid-cols-2 gap-3"},rs={class:"relative"},ns={class:"flex flex-wrap gap-2"},is=["onClick"],ds={class:"grid grid-cols-2 gap-3"},us={key:2,class:"space-y-4"},cs={class:"card p-4"},ps={class:"grid grid-cols-3 gap-3"},ms=["src"],vs={key:0,class:"absolute top-2 left-2 px-2 py-0.5 bg-primary-600 text-white text-xs rounded"},ys=["onClick"],gs={key:0,class:"aspect-square bg-gray-100 rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:border-primary-500 hover:bg-primary-50 transition"},bs={key:0,class:"text-center text-sm text-gray-500 mt-2"},xs={key:3,class:"space-y-4"},fs={class:"card p-4"},hs={class:"bottom-actions"},ks={class:"container-app flex gap-3"},ws=["disabled"],_s=["disabled"],$s={key:0,class:"flex items-center justify-center gap-2"},Cs={key:1},Ps={__name:"CreateListing",setup(g){const m=$e(),p=je(),z=ue(),M=Be(),b=f(!1),i=f(!1),c=f(!1),n=f(1),v=f(null),$=f([]),C=f([]),l=Ce({category_id:"",title:"",description:"",price:"",price_type:"fixed",condition:"",brand:"",model:"",city:"",state:"",locality:"",postal_code:"",latitude:null,longitude:null}),P=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"good",label:"Good"},{value:"fair",label:"Fair"}],G=J(()=>p.categories),R=u=>({electronics:Te,mobiles:De,property:He,vehicles:Ie,fashion:Fe,services:Ee,entertainment:Ne})[u]||qe,D=J(()=>n.value===1?!!l.category_id:n.value===2?l.title&&l.description&&l.price!=="":n.value===3?$.value.length>0:!0),y=J(()=>l.category_id&&l.title&&l.description&&l.price!==""&&l.city&&$.value.length>0),t=u=>{v.value=v.value===u?null:u},x=u=>{l.category_id=u,setTimeout(()=>K(),300)},d=u=>{const s=Array.from(u.target.files),o=10-$.value.length,j=["image/jpeg","image/png","image/webp","image/jpg"],S=5*1024*1024;let T=0;s.slice(0,o).forEach(E=>{if(!j.includes(E.type)){T++;return}if(E.size>S){H.warning(`${E.name} is too large (max 5MB)`);return}$.value.push(E);const Z=new FileReader;Z.onload=ge=>C.value.push(ge.target.result),Z.readAsDataURL(E)}),T>0&&H.warning(`${T} file(s) skipped - only JPG, PNG, WebP allowed`)},L=u=>{$.value.splice(u,1),C.value.splice(u,1)},pe=u=>{l.city=u.city,l.state=u.state,l.locality=u.locality,l.postal_code=u.postal_code,l.latitude=u.latitude,l.longitude=u.longitude},me=()=>{n.value>1?Y():m.back()},Y=()=>{n.value>1&&n.value--},K=()=>{n.value<4&&D.value&&n.value++},ve=()=>U(this,null,function*(){if(!(i.value||b.value)&&y.value){if(!z.isAuthenticated){c.value=!0;return}yield X()}}),X=()=>U(this,null,function*(){var u,s;if(!i.value){i.value=!0,b.value=!0;try{const o=le(se({},l),{images:$.value});yield M.createListing(o),H.success("Your ad has been submitted for review!"),yield m.push("/my-listings")}catch(o){H.error(((s=(u=o.response)==null?void 0:u.data)==null?void 0:s.message)||"Failed to create listing"),i.value=!1}finally{b.value=!1}}}),ye=()=>U(this,null,function*(){c.value=!1,yield new Promise(u=>setTimeout(u,100)),yield X()});return Pe(()=>{p.currentLocation&&(l.city=p.currentLocation.city,l.state=p.currentLocation.state)}),(u,s)=>(a(),r("div",Et,[e("div",Ft,[e("div",It,[e("div",Dt,[e("button",{onClick:me,class:"p-2 -ml-2 hover:bg-gray-100 rounded-full"},[k(h(Le),{class:"w-5 h-5 text-gray-600"})]),e("div",Tt,[e("div",qt,[e("span",Ht,"Step "+_(n.value)+" of 4",1)]),e("div",Gt,[(a(),r(F,null,I(4,o=>e("div",{key:o,class:q(["h-1 flex-1 rounded-full transition-colors",o<=n.value?"bg-primary-600":"bg-gray-200"])},null,2)),64))])])])])]),k(Nt,{"is-open":c.value,onClose:s[0]||(s[0]=o=>c.value=!1),onAuthenticated:ye},null,8,["is-open"]),e("div",Rt,[n.value===1?(a(),r("div",Wt,[s[7]||(s[7]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-xl font-bold text-gray-900"},"What are you selling?"),e("p",{class:"text-gray-500 text-sm mt-1"},"Select a category for your ad")],-1)),e("div",Ot,[(a(!0),r(F,null,I(G.value,o=>{var j;return a(),r("div",{key:o.id,class:"card overflow-hidden"},[e("button",{onClick:S=>t(o.id),class:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition"},[e("div",Qt,[e("div",Yt,[(a(),N(Ve(R(o.slug)),{class:"w-5 h-5 text-primary-600"}))]),e("span",Kt,_(o.name),1)]),k(h(Se),{class:q(["w-5 h-5 text-gray-400 transition-transform",v.value===o.id?"rotate-180":""])},null,8,["class"])],8,Jt),v.value===o.id&&((j=o.children)!=null&&j.length)?(a(),r("div",Xt,[(a(!0),r(F,null,I(o.children,S=>(a(),r("button",{key:S.id,onClick:T=>x(S.id),class:q(["w-full p-3 pl-14 text-left hover:bg-gray-100 transition flex items-center justify-between",l.category_id===S.id?"bg-primary-50":""])},[e("span",es,_(S.name),1),l.category_id===S.id?(a(),N(h(ze),{key:0,class:"w-5 h-5 text-primary-600"})):w("",!0)],10,Zt))),128))])):w("",!0)])}),128))])])):n.value===2?(a(),r("div",ts,[s[17]||(s[17]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-xl font-bold text-gray-900"},"Add details"),e("p",{class:"text-gray-500 text-sm mt-1"},"Provide information about your item")],-1)),e("div",ss,[e("div",null,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Title *",-1)),V(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>l.title=o),type:"text",maxlength:"100",class:"input",placeholder:"What are you selling?"},null,512),[[B,l.title]]),e("p",ls,_(l.title.length)+"/100",1)]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description *",-1)),V(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=o=>l.description=o),rows:"4",maxlength:"5000",class:"input",placeholder:"Describe your item in detail. Include key features, condition, and any important information."},null,512),[[B,l.description]]),e("p",as,_(l.description.length)+"/5000",1)]),e("div",os,[e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Price *",-1)),e("div",rs,[s[10]||(s[10]=e("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"},"â‚¹",-1)),V(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>l.price=o),type:"number",min:"0",class:"input pl-8",placeholder:"0"},null,512),[[B,l.price]])])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Price Type",-1)),V(e("select",{"onUpdate:modelValue":s[4]||(s[4]=o=>l.price_type=o),class:"input"},[...s[12]||(s[12]=[e("option",{value:"fixed"},"Fixed",-1),e("option",{value:"negotiable"},"Negotiable",-1),e("option",{value:"free"},"Free",-1)])],512),[[Ae,l.price_type]])])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Condition",-1)),e("div",ns,[(a(),r(F,null,I(P,o=>e("button",{key:o.value,onClick:j=>l.condition=o.value,type:"button",class:q(["px-4 py-2 rounded-full border text-sm transition",l.condition===o.value?"border-primary-500 bg-primary-50 text-primary-700":"hover:bg-gray-50"])},_(o.label),11,is)),64))])]),e("div",ds,[e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Brand",-1)),V(e("input",{"onUpdate:modelValue":s[5]||(s[5]=o=>l.brand=o),type:"text",class:"input",placeholder:"e.g., Apple"},null,512),[[B,l.brand]])]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Model",-1)),V(e("input",{"onUpdate:modelValue":s[6]||(s[6]=o=>l.model=o),type:"text",class:"input",placeholder:"e.g., iPhone 15"},null,512),[[B,l.model]])])])])])):n.value===3?(a(),r("div",us,[s[20]||(s[20]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-xl font-bold text-gray-900"},"Add photos"),e("p",{class:"text-gray-500 text-sm mt-1"},"Add up to 10 photos. First photo will be the cover.")],-1)),e("div",cs,[e("div",ps,[(a(!0),r(F,null,I(C.value,(o,j)=>(a(),r("div",{key:j,class:"relative aspect-square bg-gray-100 rounded-xl overflow-hidden"},[e("img",{src:o,class:"w-full h-full object-cover"},null,8,ms),j===0?(a(),r("div",vs," Cover ")):w("",!0),e("button",{type:"button",onClick:S=>L(j),class:"absolute top-2 right-2 w-6 h-6 bg-black/50 text-white rounded-full flex items-center justify-center hover:bg-black/70"},[k(h(ce),{class:"w-4 h-4"})],8,ys)]))),128)),C.value.length<10?(a(),r("label",gs,[k(h(Ue),{class:"w-8 h-8 text-gray-400 mb-1"}),s[18]||(s[18]=e("span",{class:"text-xs text-gray-500"},"Add Photo",-1)),e("input",{type:"file",accept:"image/jpeg,image/png,image/webp,.jpg,.jpeg,.png,.webp",multiple:"",class:"hidden",onChange:d},null,32)])):w("",!0)]),s[19]||(s[19]=e("p",{class:"text-center text-xs text-gray-400 mt-4"}," Supported: JPG, PNG, WebP (max 5MB each) ",-1)),C.value.length===0?(a(),r("p",bs," Add at least 1 photo to continue ")):w("",!0)])])):n.value===4?(a(),r("div",xs,[s[21]||(s[21]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-xl font-bold text-gray-900"},"Set your location"),e("p",{class:"text-gray-500 text-sm mt-1"},"This helps buyers find items near them")],-1)),e("div",fs,[k(Me,{"initial-city":l.city,"initial-state":l.state,"onUpdate:location":pe},null,8,["initial-city","initial-state"])])])):w("",!0)]),e("div",hs,[e("div",ks,[n.value>1?(a(),r("button",{key:0,onClick:Y,class:"btn-secondary flex-1"}," Back ")):w("",!0),n.value<4?(a(),r("button",{key:1,onClick:K,disabled:!D.value,class:"btn-primary flex-1"}," Continue ",8,ws)):(a(),r("button",{key:2,onClick:ve,disabled:!y.value||b.value||i.value,class:"btn-primary flex-1"},[b.value||i.value?(a(),r("span",$s,[...s[22]||(s[22]=[e("svg",{class:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),A(" Posting... ",-1)])])):(a(),r("span",Cs,"Post Ad"))],8,_s))])])]))}},Ws=de(Ps,[["__scopeId","data-v-b5bbc419"]]);export{Ws as default};
