import{c as l,o as r,a as t,L as w,r as y,n as k,p as _,y as j,g as c,d as a,h as u,e as i,O as C,M as B,I as F,t as n}from"./main-Z-N5-jz1.js";import{u as L}from"./listings-BjWADG0r.js";import{d as g}from"./dayjs.min-Bof1u0Bp.js";import{r as N}from"./relativeTime-Ckc_g6N8.js";import{r as S}from"./SparklesIcon-CXl4ruKS.js";import{r as V}from"./MapPinIcon-BUfkVY6W.js";import{r as $}from"./ClockIcon-xiREqPkz.js";function z(e,d){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})])}const D={class:"relative aspect-[4/3] bg-gradient-to-br from-slate-100 to-slate-50 overflow-hidden"},E=["src","alt"],A={key:0,class:"absolute top-3 left-3 px-3 py-1.5 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-xs font-bold rounded-full shadow-lg animate-pulse-soft"},I={class:"flex items-center"},M={key:1,class:"absolute top-3 right-3 px-3 py-1.5 bg-gradient-accent text-white text-xs font-bold rounded-full shadow-lg"},O={class:"flex items-center"},T={class:"p-4"},q={class:"flex items-center justify-between mb-2"},H={class:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-500 bg-clip-text text-transparent"},U={key:0,class:"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded-full capitalize"},Z={class:"text-slate-700 font-medium line-clamp-2 mb-3 group-hover:text-primary-600 transition-colors"},G={class:"flex items-center justify-between text-sm text-slate-400"},J={class:"flex items-center"},K={class:"truncate max-w-[120px]"},P={class:"flex items-center"},st={__name:"ListingCard",props:{listing:{type:Object,required:!0},showFavorite:{type:Boolean,default:!0}},setup(e){g.extend(N);const d=e,f=w(),h=L(),m=y(d.listing.is_favorited||!1),p=async()=>{if(!f.isAuthenticated)return;const o=await h.toggleFavorite(d.listing.id);m.value=o.is_favorited},x=o=>g(o).fromNow(),v=o=>{o.target.src="https://images.unsplash.com/photo-1560393464-5c69a73c5770?w=400&h=300&fit=crop&auto=format"};return(o,s)=>{const b=k("router-link");return r(),_(b,{to:`/listing/${e.listing.slug}`,class:"group block bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-soft-xl transition-all duration-500 transform hover:-translate-y-2 border border-slate-100"},{default:j(()=>[t("div",D,[t("img",{src:e.listing.primary_image_url,alt:e.listing.title,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy",onError:v},null,40,E),s[2]||(s[2]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1)),e.listing.is_featured?(r(),l("div",A,[t("span",I,[a(i(S),{class:"w-3.5 h-3.5 mr-1"}),s[0]||(s[0]=u(" Featured ",-1))])])):c("",!0),e.listing.is_urgent?(r(),l("div",M,[t("span",O,[a(i(z),{class:"w-3.5 h-3.5 mr-1"}),s[1]||(s[1]=u(" Urgent ",-1))])])):c("",!0),e.showFavorite?(r(),l("button",{key:2,onClick:C(p,["prevent"]),class:"absolute bottom-3 right-3 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full shadow-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300 hover:scale-110"},[a(i(B),{class:F(["w-5 h-5 transition-colors",m.value?"text-accent-500 fill-current":"text-slate-400"])},null,8,["class"])])):c("",!0),s[3]||(s[3]=t("div",{class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[t("span",{class:"px-4 py-2 bg-white/90 backdrop-blur-sm text-slate-700 text-sm font-medium rounded-full shadow-lg transform scale-90 group-hover:scale-100 transition-transform duration-300"}," View Details ")],-1))]),t("div",T,[t("div",q,[t("p",H,n(e.listing.formatted_price),1),e.listing.condition?(r(),l("span",U,n(e.listing.condition),1)):c("",!0)]),t("h3",Z,n(e.listing.title),1),t("div",G,[t("span",J,[a(i(V),{class:"w-4 h-4 mr-1"}),t("span",K,n(e.listing.location),1)]),t("span",P,[a(i($),{class:"w-4 h-4 mr-1"}),u(" "+n(x(e.listing.published_at||e.listing.created_at)),1)])])])]),_:1},8,["to"])}}};export{st as _};
