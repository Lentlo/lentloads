import{c as o,o as r,a as t,r as x,L as it,E as lt,e as dt,z as ct,N as ut,p as f,g as c,j as m,t as a,F as p,h,f as k,w as y,i as j,v as gt,C as Y,K as N}from"./main-DouAoeej.js";import{d as tt}from"./dayjs.min-om0cdF0S.js";import{r as mt}from"./relativeTime-Bxwlw-yM.js";import{r as st}from"./ArrowPathIcon-BUZoOspi.js";import{r as xt,a as pt}from"./UsersIcon-DIoKz7Yo.js";import{r as ht}from"./TagIcon-t_FVPKDb.js";import{r as vt}from"./ClockIcon-DRzJC5J9.js";import{r as yt}from"./FlagIcon-DWKVKFgB.js";function ft($,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"})])}function _t($,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"})])}function bt($,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}const wt={class:"p-6"},kt={class:"flex items-center justify-between mb-6"},jt={class:"flex items-center gap-2"},Ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Mt={class:"card p-6 hover:shadow-md transition-shadow"},Nt={class:"flex items-center justify-between"},$t={class:"text-2xl font-bold text-gray-900"},Lt={class:"flex items-center gap-2 mt-1"},Ht={class:"text-sm text-green-600"},At={class:"text-xs text-gray-400"},Vt={class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},Ut={class:"mt-3 pt-3 border-t"},Dt={class:"flex justify-between text-sm"},Pt={class:"font-medium"},Rt={class:"card p-6 hover:shadow-md transition-shadow"},St={class:"flex items-center justify-between"},Bt={class:"text-2xl font-bold text-gray-900"},Ft={class:"flex items-center gap-2 mt-1"},Tt={class:"text-sm text-green-600"},Zt={class:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center"},zt={class:"mt-3 pt-3 border-t"},Et={class:"flex justify-between text-sm"},Ot={class:"font-medium text-green-600"},Wt={class:"flex items-center justify-between"},qt={class:"text-2xl font-bold text-gray-900"},It={class:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center"},Kt={class:"flex items-center justify-between"},Qt={class:"text-2xl font-bold text-gray-900"},Gt={class:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center"},Jt={class:"mt-3 pt-3 border-t"},Xt={class:"flex justify-between text-sm"},Yt={class:"font-medium"},ts={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},ss={class:"card p-6"},es={class:"h-48"},as={key:0,class:"flex items-end justify-between h-full gap-1"},os={class:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap"},rs={key:1,class:"h-full flex items-center justify-center text-gray-400"},ns={class:"flex justify-between mt-2 text-xs text-gray-500"},is={class:"card p-6"},ls={class:"h-48"},ds={key:0,class:"flex items-end justify-between h-full gap-1"},cs={class:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap"},us={key:1,class:"h-full flex items-center justify-center text-gray-400"},gs={class:"flex justify-between mt-2 text-xs text-gray-500"},ms={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},xs={class:"card p-6"},ps={class:"space-y-3"},hs={class:"flex-1"},vs={class:"flex justify-between text-sm mb-1"},ys={class:"text-gray-700"},fs={class:"font-medium"},_s={class:"h-2 bg-gray-100 rounded-full overflow-hidden"},bs={key:0,class:"text-center text-gray-400 py-4"},ws={class:"card p-6"},ks={class:"space-y-3"},js={class:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center text-xs font-medium text-gray-600"},Cs={class:"flex-1"},Ms={class:"flex justify-between text-sm mb-1"},Ns={class:"text-gray-700"},$s={class:"font-medium"},Ls={class:"h-2 bg-gray-100 rounded-full overflow-hidden"},Hs={key:0,class:"text-center text-gray-400 py-4"},As={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Vs={class:"card"},Us={class:"p-4 border-b flex items-center justify-between"},Ds={class:"divide-y max-h-80 overflow-y-auto"},Ps=["onClick"],Rs={class:"flex-1 min-w-0"},Ss={class:"font-medium text-gray-900 truncate text-sm"},Bs={class:"text-xs text-gray-500"},Fs={key:0,class:"p-8 text-center text-gray-500"},Ts={class:"card"},Zs={class:"p-4 border-b flex items-center justify-between"},zs={class:"divide-y max-h-80 overflow-y-auto"},Es={class:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 font-medium"},Os={class:"flex-1 min-w-0"},Ws={class:"font-medium text-gray-900 truncate text-sm"},qs={class:"text-xs text-gray-500"},Is={class:"text-xs text-gray-400"},Ks={key:0,class:"p-8 text-center text-gray-500"},Qs={class:"card"},Gs={class:"p-4 border-b flex items-center justify-between"},Js={class:"divide-y max-h-80 overflow-y-auto"},Xs={class:"flex items-center justify-between mb-2"},Ys={class:"badge bg-red-100 text-red-700 text-xs"},te={class:"text-xs text-gray-500"},se={class:"text-xs text-gray-600 line-clamp-2"},ee={class:"text-xs text-gray-400 mt-1"},ae={key:0,class:"p-8 text-center text-gray-500"},oe={class:"mt-8"},re={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},ne={class:"text-xs text-gray-500 mt-1"},ie={class:"text-xs text-gray-500 mt-1"},le={class:"mt-8"},de={class:"flex items-center justify-between mb-4"},ce=["disabled"],ue={class:"card p-6"},ge={key:0,class:"text-center py-4 text-gray-500"},me={key:1,class:"text-center py-4 text-red-500"},xe={key:2},pe={class:"flex items-center gap-3 mb-4"},he={class:"text-xs text-gray-400 ml-auto"},ve={class:"grid grid-cols-2 md:grid-cols-5 gap-3"},ye={class:"text-lg mb-1"},fe={class:"text-xs font-medium text-gray-700"},_e={class:"mt-4 pt-4 border-t flex justify-between items-center"},be={href:"/health-check",target:"_blank",class:"text-sm text-primary-600 hover:underline flex items-center gap-1"},we={class:"text-xs text-gray-400"},Ae={__name:"Dashboard",setup($){tt.extend(mt);const u=x({}),L=x([]),H=x([]),A=x([]),_=x("7"),V=x(!1),b=x(!1),C=x(null),v=x({summary:{},checks:{}}),i=it({listings:[],listingsMax:0,users:[],usersMax:0,categories:[],cities:[]}),P=n=>tt(n).fromNow(),et=n=>({active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800",sold:"bg-blue-100 text-blue-800",expired:"bg-gray-100 text-gray-800"})[n]||"bg-gray-100 text-gray-800",R=(n,s)=>s?Math.max(n/s*100,5):5,at=n=>{if(!i.categories.length)return 0;const s=Math.max(...i.categories.map(d=>d.count));return n/s*100},ot=n=>{if(!i.cities.length)return 0;const s=Math.max(...i.cities.map(d=>d.count));return n/s*100},S=async()=>{var n,s,d,w;try{const g=await Y.get("/admin/dashboard");u.value=((n=g.data.data)==null?void 0:n.stats)||g.data.stats||{},L.value=((s=g.data.data)==null?void 0:s.recent_listings)||g.data.recent_listings||[],H.value=((d=g.data.data)==null?void 0:d.recent_users)||g.data.recent_users||[],A.value=((w=g.data.data)==null?void 0:w.pending_reports)||g.data.pending_reports||[]}catch(g){console.error("Failed to fetch dashboard data",g)}},U=async()=>{try{const n=await Y.get("/admin/stats",{params:{period:_.value}}),s=n.data.data||n.data;i.listings=s.listings_chart||[],i.listingsMax=Math.max(...i.listings.map(d=>d.count),1),i.users=s.users_chart||[],i.usersMax=Math.max(...i.users.map(d=>d.count),1),i.categories=s.category_distribution||[],i.cities=s.top_cities||[]}catch(n){console.error("Failed to fetch stats",n)}},D=async()=>{b.value=!0,C.value=null;try{const n=await fetch("/health-check/api");if(!n.ok)throw new Error("Health check failed");v.value=await n.json()}catch(n){console.error("Failed to fetch health check",n),C.value="Failed to fetch health status"}finally{b.value=!1}},rt=n=>n.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase()),nt=async()=>{V.value=!0,await Promise.all([S(),U(),D()]),V.value=!1};return lt(()=>{S(),U(),D()}),(n,s)=>{var w,g,B,F,T,Z,z,E,O,W,q,I,K,Q,G,J,X;const d=dt("router-link");return r(),o("div",wt,[t("div",kt,[s[5]||(s[5]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Dashboard",-1)),t("div",jt,[ct(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>_.value=e),onChange:U,class:"text-sm border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...s[4]||(s[4]=[t("option",{value:"7"},"Last 7 days",-1),t("option",{value:"14"},"Last 14 days",-1),t("option",{value:"30"},"Last 30 days",-1),t("option",{value:"90"},"Last 90 days",-1)])],544),[[ut,_.value]]),t("button",{onClick:nt,class:f(["p-2 text-gray-600 hover:bg-gray-100 rounded-lg",{"animate-spin":V.value}])},[c(m(st),{class:"w-5 h-5"})],2)])]),t("div",Ct,[t("div",Mt,[t("div",Nt,[t("div",null,[s[6]||(s[6]=t("p",{class:"text-sm text-gray-500"},"Total Users",-1)),t("p",$t,a(((w=u.value.users)==null?void 0:w.total)||0),1),t("div",Lt,[t("span",Ht,"+"+a(((g=u.value.users)==null?void 0:g.new_today)||0)+" today",1),t("span",At,a(((B=u.value.users)==null?void 0:B.new_this_week)||0)+" this week",1)])]),t("div",Vt,[c(m(xt),{class:"w-6 h-6 text-blue-600"})])]),t("div",Ut,[t("div",Dt,[s[7]||(s[7]=t("span",{class:"text-gray-500"},"Active",-1)),t("span",Pt,a(((F=u.value.users)==null?void 0:F.active)||0),1)])])]),t("div",Rt,[t("div",St,[t("div",null,[s[8]||(s[8]=t("p",{class:"text-sm text-gray-500"},"Listings",-1)),t("p",Bt,a(((T=u.value.listings)==null?void 0:T.total)||0),1),t("div",Ft,[t("span",Tt,"+"+a(((Z=u.value.listings)==null?void 0:Z.new_today)||0)+" today",1)])]),t("div",Zt,[c(m(ht),{class:"w-6 h-6 text-green-600"})])]),t("div",zt,[t("div",Et,[s[9]||(s[9]=t("span",{class:"text-gray-500"},"Active",-1)),t("span",Ot,a(((z=u.value.listings)==null?void 0:z.active)||0),1)])])]),t("div",{class:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:s[1]||(s[1]=e=>n.$router.push("/admin/listings?status=pending"))},[t("div",Wt,[t("div",null,[s[10]||(s[10]=t("p",{class:"text-sm text-gray-500"},"Pending Approval",-1)),t("p",qt,a(((E=u.value.listings)==null?void 0:E.pending)||0),1),s[11]||(s[11]=t("p",{class:"text-sm text-yellow-600 mt-1"},"Needs attention",-1))]),t("div",It,[c(m(vt),{class:"w-6 h-6 text-yellow-600"})])]),s[12]||(s[12]=t("div",{class:"mt-3 pt-3 border-t"},[t("span",{class:"text-sm text-primary-600 hover:underline"},"Review pending →")],-1))]),t("div",{class:"card p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:s[2]||(s[2]=e=>n.$router.push("/admin/reports"))},[t("div",Kt,[t("div",null,[s[13]||(s[13]=t("p",{class:"text-sm text-gray-500"},"Open Reports",-1)),t("p",Qt,a(((O=u.value.reports)==null?void 0:O.pending)||0),1),s[14]||(s[14]=t("p",{class:"text-sm text-red-600 mt-1"},"Requires review",-1))]),t("div",Gt,[c(m(yt),{class:"w-6 h-6 text-red-600"})])]),t("div",Jt,[t("div",Xt,[s[15]||(s[15]=t("span",{class:"text-gray-500"},"Total",-1)),t("span",Yt,a(((W=u.value.reports)==null?void 0:W.total)||0),1)])])])]),t("div",ts,[t("div",ss,[s[17]||(s[17]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"New Listings",-1)),t("div",es,[i.listings.length?(r(),o("div",as,[(r(!0),o(p,null,h(i.listings,(e,l)=>(r(),o("div",{key:l,class:"flex-1 bg-primary-100 hover:bg-primary-200 rounded-t transition-colors relative group",style:N({height:R(e.count,i.listingsMax)+"%"})},[t("div",os,a(e.count)+" listings ",1)],4))),128))])):(r(),o("div",rs," No data for selected period "))]),t("div",ns,[t("span",null,a(_.value)+" days ago",1),s[16]||(s[16]=t("span",null,"Today",-1))])]),t("div",is,[s[19]||(s[19]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"New Users",-1)),t("div",ls,[i.users.length?(r(),o("div",ds,[(r(!0),o(p,null,h(i.users,(e,l)=>(r(),o("div",{key:l,class:"flex-1 bg-blue-100 hover:bg-blue-200 rounded-t transition-colors relative group",style:N({height:R(e.count,i.usersMax)+"%"})},[t("div",cs,a(e.count)+" users ",1)],4))),128))])):(r(),o("div",us," No data for selected period "))]),t("div",gs,[t("span",null,a(_.value)+" days ago",1),s[18]||(s[18]=t("span",null,"Today",-1))])])]),t("div",ms,[t("div",xs,[s[20]||(s[20]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"Listings by Category",-1)),t("div",ps,[(r(!0),o(p,null,h(i.categories,e=>{var l;return r(),o("div",{key:e.category_id,class:"flex items-center gap-3"},[t("div",hs,[t("div",vs,[t("span",ys,a(((l=e.category)==null?void 0:l.name)||"Unknown"),1),t("span",fs,a(e.count),1)]),t("div",_s,[t("div",{class:"h-full bg-primary-500 rounded-full",style:N({width:at(e.count)+"%"})},null,4)])])])}),128)),i.categories.length?k("",!0):(r(),o("div",bs," No category data "))])]),t("div",ws,[s[21]||(s[21]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"Top Cities",-1)),t("div",ks,[(r(!0),o(p,null,h(i.cities,(e,l)=>(r(),o("div",{key:e.city,class:"flex items-center gap-3"},[t("span",js,a(l+1),1),t("div",Cs,[t("div",Ms,[t("span",Ns,a(e.city||"Unknown"),1),t("span",$s,a(e.count)+" listings",1)]),t("div",Ls,[t("div",{class:"h-full bg-green-500 rounded-full",style:N({width:ot(e.count)+"%"})},null,4)])])]))),128)),i.cities.length?k("",!0):(r(),o("div",Hs," No city data "))])])]),t("div",As,[t("div",Vs,[t("div",Us,[s[23]||(s[23]=t("h2",{class:"font-semibold text-gray-900"},"Recent Listings",-1)),c(d,{to:"/admin/listings",class:"text-sm text-primary-600 hover:underline"},{default:y(()=>[...s[22]||(s[22]=[j(" View all ",-1)])]),_:1})]),t("div",Ds,[(r(!0),o(p,null,h(L.value,e=>{var l;return r(),o("div",{key:e.id,class:"p-4 flex items-center gap-3 hover:bg-gray-50 cursor-pointer",onClick:M=>n.$router.push(`/admin/listings?search=${e.title}`)},[t("div",Rs,[t("p",Ss,a(e.title),1),t("p",Bs,"by "+a((l=e.user)==null?void 0:l.name),1)]),t("span",{class:f(["badge text-xs",et(e.status)])},a(e.status),3)],8,Ps)}),128)),L.value.length?k("",!0):(r(),o("div",Fs," No recent listings "))])]),t("div",Ts,[t("div",Zs,[s[25]||(s[25]=t("h2",{class:"font-semibold text-gray-900"},"Recent Users",-1)),c(d,{to:"/admin/users",class:"text-sm text-primary-600 hover:underline"},{default:y(()=>[...s[24]||(s[24]=[j(" View all ",-1)])]),_:1})]),t("div",zs,[(r(!0),o(p,null,h(H.value,e=>{var l,M;return r(),o("div",{key:e.id,class:"p-4 flex items-center gap-3 hover:bg-gray-50"},[t("div",Es,a(((M=(l=e.name)==null?void 0:l.charAt(0))==null?void 0:M.toUpperCase())||"?"),1),t("div",Os,[t("p",Ws,a(e.name),1),t("p",qs,a(e.email),1)]),t("span",Is,a(P(e.created_at)),1)])}),128)),H.value.length?k("",!0):(r(),o("div",Ks," No recent users "))])]),t("div",Qs,[t("div",Gs,[s[27]||(s[27]=t("h2",{class:"font-semibold text-gray-900"},"Pending Reports",-1)),c(d,{to:"/admin/reports",class:"text-sm text-primary-600 hover:underline"},{default:y(()=>[...s[26]||(s[26]=[j(" View all ",-1)])]),_:1})]),t("div",Js,[(r(!0),o(p,null,h(A.value,e=>{var l;return r(),o("div",{key:e.id,class:"p-4 hover:bg-gray-50 cursor-pointer",onClick:s[3]||(s[3]=M=>n.$router.push("/admin/reports"))},[t("div",Xs,[t("span",Ys,a(e.reason),1),t("span",te,a(P(e.created_at)),1)]),t("p",se,a(e.description||"No description provided"),1),t("p",ee," By "+a((l=e.reporter)==null?void 0:l.name),1)])}),128)),A.value.length?k("",!0):(r(),o("div",ae," No pending reports "))])])]),t("div",oe,[s[34]||(s[34]=t("h2",{class:"font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),t("div",re,[c(d,{to:"/admin/listings?status=pending",class:"card p-4 text-center hover:shadow-md transition group"},{default:y(()=>{var e;return[c(m(ft),{class:"w-8 h-8 text-yellow-600 mx-auto mb-2 group-hover:scale-110 transition-transform"}),s[28]||(s[28]=t("p",{class:"font-medium"},"Review Listings",-1)),t("p",ne,a(((e=u.value.listings)==null?void 0:e.pending)||0)+" pending",1)]}),_:1}),c(d,{to:"/admin/users",class:"card p-4 text-center hover:shadow-md transition group"},{default:y(()=>{var e;return[c(m(bt),{class:"w-8 h-8 text-blue-600 mx-auto mb-2 group-hover:scale-110 transition-transform"}),s[29]||(s[29]=t("p",{class:"font-medium"},"Manage Users",-1)),t("p",ie,a(((e=u.value.users)==null?void 0:e.total)||0)+" users",1)]}),_:1}),c(d,{to:"/admin/categories",class:"card p-4 text-center hover:shadow-md transition group"},{default:y(()=>[c(m(pt),{class:"w-8 h-8 text-green-600 mx-auto mb-2 group-hover:scale-110 transition-transform"}),s[30]||(s[30]=t("p",{class:"font-medium"},"Categories",-1)),s[31]||(s[31]=t("p",{class:"text-xs text-gray-500 mt-1"},"Organize listings",-1))]),_:1}),c(d,{to:"/admin/settings",class:"card p-4 text-center hover:shadow-md transition group"},{default:y(()=>[c(m(gt),{class:"w-8 h-8 text-gray-600 mx-auto mb-2 group-hover:scale-110 transition-transform"}),s[32]||(s[32]=t("p",{class:"font-medium"},"Settings",-1)),s[33]||(s[33]=t("p",{class:"text-xs text-gray-500 mt-1"},"Site configuration",-1))]),_:1})])]),t("div",le,[t("div",de,[s[36]||(s[36]=t("h2",{class:"font-semibold text-gray-900"},"System Health",-1)),t("button",{onClick:D,class:"text-sm text-primary-600 hover:underline flex items-center gap-1",disabled:b.value},[c(m(st),{class:f(["w-4 h-4",{"animate-spin":b.value}])},null,8,["class"]),s[35]||(s[35]=j(" Refresh ",-1))],8,ce)]),t("div",ue,[b.value?(r(),o("div",ge," Loading health checks... ")):C.value?(r(),o("div",me,a(C.value),1)):(r(),o("div",xe,[t("div",pe,[t("div",{class:f(["w-3 h-3 rounded-full",((q=v.value.summary)==null?void 0:q.overall_status)==="healthy"?"bg-green-500":"bg-red-500"])},null,2),t("span",{class:f(["font-medium",((I=v.value.summary)==null?void 0:I.overall_status)==="healthy"?"text-green-700":"text-red-700"])},a(((K=v.value.summary)==null?void 0:K.overall_status)==="healthy"?"All Systems Healthy":"Issues Detected"),3),t("span",he,a((Q=v.value.summary)==null?void 0:Q.checked_at),1)]),t("div",ve,[(r(!0),o(p,null,h(v.value.checks,(e,l)=>(r(),o("div",{key:l,class:f(["p-3 rounded-lg text-center",{"bg-green-50":e.status==="ok","bg-yellow-50":e.status==="warning","bg-red-50":e.status==="error"}])},[t("div",ye,a(e.status==="ok"?"✓":e.status==="warning"?"!":"✗"),1),t("p",fe,a(rt(l)),1)],2))),128))]),t("div",_e,[t("a",be,[c(m(_t),{class:"w-4 h-4"}),s[37]||(s[37]=j(" Open Full Health Check Page ",-1))]),t("span",we,"PHP "+a((X=(J=(G=v.value.checks)==null?void 0:G.php_version)==null?void 0:J.message)==null?void 0:X.replace("PHP ","")),1)])]))])])])}}};export{Ae as default};
