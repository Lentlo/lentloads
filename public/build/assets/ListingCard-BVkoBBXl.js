import{b as y,r as w,e as _,m as k,o as r,w as j,a as t,c as l,f as c,g as a,i as d,j as i,S as C,R as F,p as S,t as n}from"./main-DdfwsRgo.js";import{u as B}from"./listings-CMutAsVH.js";import{d as f}from"./dayjs.min-iy57P9mS.js";import{r as N}from"./relativeTime-D5nU98bY.js";import{r as V}from"./SparklesIcon-CZnn3rIF.js";import{r as $}from"./BoltIcon-CvKSuawk.js";import{r as z}from"./MapPinIcon-B4poFF6m.js";import{r as D}from"./ClockIcon-5XHKyaL8.js";const E={class:"relative aspect-[4/3] bg-gradient-to-br from-slate-100 to-slate-50 overflow-hidden"},A=["src","alt"],L={key:0,class:"absolute top-3 left-3 px-3 py-1.5 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-xs font-bold rounded-full shadow-lg animate-pulse-soft"},T={class:"flex items-center"},q={key:1,class:"absolute top-3 right-3 px-3 py-1.5 bg-gradient-accent text-white text-xs font-bold rounded-full shadow-lg"},I={class:"flex items-center"},M={class:"p-4"},O={class:"flex items-center justify-between mb-2"},R={class:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-500 bg-clip-text text-transparent"},U={key:0,class:"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded-full capitalize"},G={class:"text-slate-700 font-medium line-clamp-2 mb-3 group-hover:text-primary-600 transition-colors"},H={class:"flex items-center justify-between text-sm text-slate-400"},J={class:"flex items-center"},K={class:"truncate max-w-[120px]"},P={class:"flex items-center"},ot={__name:"ListingCard",props:{listing:{type:Object,required:!0},showFavorite:{type:Boolean,default:!0}},setup(e){f.extend(N);const u=e,g=y(),h=B(),m=w(u.listing.is_favorited||!1),p=async()=>{if(!g.isAuthenticated)return;const o=await h.toggleFavorite(u.listing.id);m.value=o.is_favorited},x=o=>f(o).fromNow(),b=o=>{o.target.src="https://images.unsplash.com/photo-1560393464-5c69a73c5770?w=400&h=300&fit=crop&auto=format"};return(o,s)=>{const v=_("router-link");return r(),k(v,{to:`/listing/${e.listing.slug}`,class:"group block bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-soft-xl transition-all duration-500 transform hover:-translate-y-2 border border-slate-100"},{default:j(()=>[t("div",E,[t("img",{src:e.listing.primary_image_url,alt:e.listing.title,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy",onError:b},null,40,A),s[2]||(s[2]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1)),e.listing.is_featured?(r(),l("div",L,[t("span",T,[a(i(V),{class:"w-3.5 h-3.5 mr-1"}),s[0]||(s[0]=d(" Featured ",-1))])])):c("",!0),e.listing.is_urgent?(r(),l("div",q,[t("span",I,[a(i($),{class:"w-3.5 h-3.5 mr-1"}),s[1]||(s[1]=d(" Urgent ",-1))])])):c("",!0),e.showFavorite?(r(),l("button",{key:2,onClick:C(p,["prevent"]),class:"absolute bottom-3 right-3 w-10 h-10 bg-white/90 backdrop-blur-sm rounded-full shadow-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300 hover:scale-110"},[a(i(F),{class:S(["w-5 h-5 transition-colors",m.value?"text-accent-500 fill-current":"text-slate-400"])},null,8,["class"])])):c("",!0),s[3]||(s[3]=t("div",{class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[t("span",{class:"px-4 py-2 bg-white/90 backdrop-blur-sm text-slate-700 text-sm font-medium rounded-full shadow-lg transform scale-90 group-hover:scale-100 transition-transform duration-300"}," View Details ")],-1))]),t("div",M,[t("div",O,[t("p",R,n(e.listing.formatted_price),1),e.listing.condition?(r(),l("span",U,n(e.listing.condition),1)):c("",!0)]),t("h3",G,n(e.listing.title),1),t("div",H,[t("span",J,[a(i(z),{class:"w-4 h-4 mr-1"}),t("span",K,n(e.listing.location),1)]),t("span",P,[a(i(D),{class:"w-4 h-4 mr-1"}),d(" "+n(x(e.listing.published_at||e.listing.created_at)),1)])])])]),_:1},8,["to"])}}};export{ot as _};
